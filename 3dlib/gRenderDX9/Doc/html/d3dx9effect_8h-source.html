<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>gRenderDX9: d3dx9effect.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.1 -->
<h1>d3dx9effect.h</h1><div class="fragment"><pre>00001 
00003 <span class="comment">//</span>
00004 <span class="comment">//  Copyright (c) Microsoft Corporation.  All rights reserved.</span>
00005 <span class="comment">//</span>
00006 <span class="comment">//  File:       d3dx9effect.h</span>
00007 <span class="comment">//  Content:    D3DX effect types and Shaders</span>
00008 <span class="comment">//</span>
00010 <span class="comment"></span>
00011 <span class="preprocessor">#include "d3dx9.h"</span>
00012 
00013 <span class="preprocessor">#ifndef __D3DX9EFFECT_H__</span>
00014 <span class="preprocessor"></span><span class="preprocessor">#define __D3DX9EFFECT_H__</span>
00015 <span class="preprocessor"></span>
00016 
00017 <span class="comment">//----------------------------------------------------------------------------</span>
00018 <span class="comment">// D3DXFX_DONOTSAVESTATE</span>
00019 <span class="comment">//   This flag is used as a parameter to ID3DXEffect::Begin().  When this flag</span>
00020 <span class="comment">//   is specified, device state is not saved or restored in Begin/End.</span>
00021 <span class="comment">// D3DXFX_DONOTSAVESHADERSTATE</span>
00022 <span class="comment">//   This flag is used as a parameter to ID3DXEffect::Begin().  When this flag</span>
00023 <span class="comment">//   is specified, shader device state is not saved or restored in Begin/End.</span>
00024 <span class="comment">//   This includes pixel/vertex shaders and shader constants</span>
00025 <span class="comment">// D3DXFX_DONOTSAVESAMPLERSTATE</span>
00026 <span class="comment">//   This flag is used as a parameter to ID3DXEffect::Begin(). When this flag</span>
00027 <span class="comment">//   is specified, sampler device state is not saved or restored in Begin/End.</span>
00028 <span class="comment">//----------------------------------------------------------------------------</span>
00029 
00030 <span class="preprocessor">#define D3DXFX_DONOTSAVESTATE         (1 &lt;&lt; 0)</span>
00031 <span class="preprocessor"></span><span class="preprocessor">#define D3DXFX_DONOTSAVESHADERSTATE   (1 &lt;&lt; 1)</span>
00032 <span class="preprocessor"></span><span class="preprocessor">#define D3DXFX_DONOTSAVESAMPLERSTATE  (1 &lt;&lt; 2)</span>
00033 <span class="preprocessor"></span>
00034 
00035 <span class="comment">//----------------------------------------------------------------------------</span>
00036 <span class="comment">// D3DX_PARAMETER_SHARED</span>
00037 <span class="comment">//   Indicates that the value of a parameter will be shared with all effects</span>
00038 <span class="comment">//   which share the same namespace.  Changing the value in one effect will</span>
00039 <span class="comment">//   change it in all.</span>
00040 <span class="comment">//</span>
00041 <span class="comment">// D3DX_PARAMETER_LITERAL</span>
00042 <span class="comment">//   Indicates that the value of this parameter can be treated as literal.</span>
00043 <span class="comment">//   Literal parameters can be marked when the effect is compiled, and their</span>
00044 <span class="comment">//   cannot be changed after the effect is compiled.  Shared parameters cannot</span>
00045 <span class="comment">//   be literal.</span>
00046 <span class="comment">//----------------------------------------------------------------------------</span>
00047 
00048 <span class="preprocessor">#define D3DX_PARAMETER_SHARED       (1 &lt;&lt; 0)</span>
00049 <span class="preprocessor"></span><span class="preprocessor">#define D3DX_PARAMETER_LITERAL      (1 &lt;&lt; 1)</span>
00050 <span class="preprocessor"></span><span class="preprocessor">#define D3DX_PARAMETER_ANNOTATION   (1 &lt;&lt; 2)</span>
00051 <span class="preprocessor"></span>
00052 
00053 <span class="comment">//----------------------------------------------------------------------------</span>
00054 <span class="comment">// D3DXEFFECT_DESC:</span>
00055 <span class="comment">//----------------------------------------------------------------------------</span>
00056 
00057 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DXEFFECT_DESC
00058 {
00059     LPCSTR Creator;                     <span class="comment">// Creator string</span>
00060     UINT Parameters;                    <span class="comment">// Number of parameters</span>
00061     UINT Techniques;                    <span class="comment">// Number of techniques</span>
00062     UINT Functions;                     <span class="comment">// Number of function entrypoints</span>
00063 
00064 } D3DXEFFECT_DESC;
00065 
00066 
00067 <span class="comment">//----------------------------------------------------------------------------</span>
00068 <span class="comment">// D3DXPARAMETER_DESC:</span>
00069 <span class="comment">//----------------------------------------------------------------------------</span>
00070 
00071 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DXPARAMETER_DESC
00072 {
00073     LPCSTR Name;                        <span class="comment">// Parameter name</span>
00074     LPCSTR Semantic;                    <span class="comment">// Parameter semantic</span>
00075     D3DXPARAMETER_CLASS Class;          <span class="comment">// Class</span>
00076     D3DXPARAMETER_TYPE Type;            <span class="comment">// Component type</span>
00077     UINT Rows;                          <span class="comment">// Number of rows</span>
00078     UINT Columns;                       <span class="comment">// Number of columns</span>
00079     UINT Elements;                      <span class="comment">// Number of array elements</span>
00080     UINT Annotations;                   <span class="comment">// Number of annotations</span>
00081     UINT StructMembers;                 <span class="comment">// Number of structure member sub-parameters</span>
00082     DWORD Flags;                        <span class="comment">// D3DX_PARAMETER_* flags</span>
00083     UINT Bytes;                         <span class="comment">// Parameter size, in bytes</span>
00084 
00085 } D3DXPARAMETER_DESC;
00086 
00087 
00088 <span class="comment">//----------------------------------------------------------------------------</span>
00089 <span class="comment">// D3DXTECHNIQUE_DESC:</span>
00090 <span class="comment">//----------------------------------------------------------------------------</span>
00091 
00092 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DXTECHNIQUE_DESC
00093 {
00094     LPCSTR Name;                        <span class="comment">// Technique name</span>
00095     UINT Passes;                        <span class="comment">// Number of passes</span>
00096     UINT Annotations;                   <span class="comment">// Number of annotations</span>
00097 
00098 } D3DXTECHNIQUE_DESC;
00099 
00100 
00101 <span class="comment">//----------------------------------------------------------------------------</span>
00102 <span class="comment">// D3DXPASS_DESC:</span>
00103 <span class="comment">//----------------------------------------------------------------------------</span>
00104 
00105 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DXPASS_DESC
00106 {
00107     LPCSTR Name;                        <span class="comment">// Pass name</span>
00108     UINT Annotations;                   <span class="comment">// Number of annotations</span>
00109 
00110     CONST DWORD *pVertexShaderFunction; <span class="comment">// Vertex shader function</span>
00111     CONST DWORD *pPixelShaderFunction;  <span class="comment">// Pixel shader function</span>
00112 
00113 } D3DXPASS_DESC;
00114 
00115 
00116 <span class="comment">//----------------------------------------------------------------------------</span>
00117 <span class="comment">// D3DXFUNCTION_DESC:</span>
00118 <span class="comment">//----------------------------------------------------------------------------</span>
00119 
00120 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DXFUNCTION_DESC
00121 {
00122     LPCSTR Name;                        <span class="comment">// Function name</span>
00123     UINT Annotations;                   <span class="comment">// Number of annotations</span>
00124 
00125 } D3DXFUNCTION_DESC;
00126 
00127 
00128 
00130 <span class="comment">// ID3DXEffectPool ///////////////////////////////////////////////////////////</span>
00132 <span class="comment"></span>
00133 <span class="keyword">typedef</span> interface ID3DXEffectPool ID3DXEffectPool;
00134 <span class="keyword">typedef</span> interface ID3DXEffectPool *LPD3DXEFFECTPOOL;
00135 
00136 <span class="comment">// {9537AB04-3250-412e-8213-FCD2F8677933}</span>
00137 DEFINE_GUID(IID_ID3DXEffectPool, 
00138 0x9537ab04, 0x3250, 0x412e, 0x82, 0x13, 0xfc, 0xd2, 0xf8, 0x67, 0x79, 0x33);
00139 
00140 
00141 <span class="preprocessor">#undef INTERFACE</span>
00142 <span class="preprocessor"></span><span class="preprocessor">#define INTERFACE ID3DXEffectPool</span>
00143 <span class="preprocessor"></span>
00144 DECLARE_INTERFACE_(ID3DXEffectPool, IUnknown)
00145 {
00146     <span class="comment">// IUnknown</span>
00147     STDMETHOD(QueryInterface)(THIS_ REFIID iid, LPVOID *ppv) PURE;
00148     STDMETHOD_(ULONG, AddRef)(THIS) PURE;
00149     STDMETHOD_(ULONG, Release)(THIS) PURE;
00150 
00151     <span class="comment">// No public methods</span>
00152 };
00153 
00154 
00156 <span class="comment">// ID3DXBaseEffect ///////////////////////////////////////////////////////////</span>
00158 <span class="comment"></span>
00159 <span class="keyword">typedef</span> interface ID3DXBaseEffect ID3DXBaseEffect;
00160 <span class="keyword">typedef</span> interface ID3DXBaseEffect *LPD3DXBASEEFFECT;
00161 
00162 <span class="comment">// {3B7A6FFB-3A69-46d7-BC01-A6B2AD4C2BB0}</span>
00163 DEFINE_GUID(IID_ID3DXBaseEffect, 
00164 0x3b7a6ffb, 0x3a69, 0x46d7, 0xbc, 0x1, 0xa6, 0xb2, 0xad, 0x4c, 0x2b, 0xb0);
00165 
00166 
00167 <span class="preprocessor">#undef INTERFACE</span>
00168 <span class="preprocessor"></span><span class="preprocessor">#define INTERFACE ID3DXBaseEffect</span>
00169 <span class="preprocessor"></span>
00170 DECLARE_INTERFACE_(ID3DXBaseEffect, IUnknown)
00171 {
00172     <span class="comment">// IUnknown</span>
00173     STDMETHOD(QueryInterface)(THIS_ REFIID iid, LPVOID *ppv) PURE;
00174     STDMETHOD_(ULONG, AddRef)(THIS) PURE;
00175     STDMETHOD_(ULONG, Release)(THIS) PURE;
00176 
00177     <span class="comment">// Descs</span>
00178     STDMETHOD(GetDesc)(THIS_ D3DXEFFECT_DESC* pDesc) PURE;
00179     STDMETHOD(GetParameterDesc)(THIS_ D3DXHANDLE hParameter, D3DXPARAMETER_DESC* pDesc) PURE;
00180     STDMETHOD(GetTechniqueDesc)(THIS_ D3DXHANDLE hTechnique, D3DXTECHNIQUE_DESC* pDesc) PURE;
00181     STDMETHOD(GetPassDesc)(THIS_ D3DXHANDLE hPass, D3DXPASS_DESC* pDesc) PURE;
00182     STDMETHOD(GetFunctionDesc)(THIS_ D3DXHANDLE hShader, D3DXFUNCTION_DESC* pDesc) PURE;
00183 
00184     <span class="comment">// Handle operations</span>
00185     STDMETHOD_(D3DXHANDLE, GetParameter)(THIS_ D3DXHANDLE hParameter, UINT Index) PURE;
00186     STDMETHOD_(D3DXHANDLE, GetParameterByName)(THIS_ D3DXHANDLE hParameter, LPCSTR pName) PURE;
00187     STDMETHOD_(D3DXHANDLE, GetParameterBySemantic)(THIS_ D3DXHANDLE hParameter, LPCSTR pSemantic) PURE;
00188     STDMETHOD_(D3DXHANDLE, GetParameterElement)(THIS_ D3DXHANDLE hParameter, UINT Index) PURE;
00189     STDMETHOD_(D3DXHANDLE, GetTechnique)(THIS_ UINT Index) PURE;
00190     STDMETHOD_(D3DXHANDLE, GetTechniqueByName)(THIS_ LPCSTR pName) PURE;
00191     STDMETHOD_(D3DXHANDLE, GetPass)(THIS_ D3DXHANDLE hTechnique, UINT Index) PURE;
00192     STDMETHOD_(D3DXHANDLE, GetPassByName)(THIS_ D3DXHANDLE hTechnique, LPCSTR pName) PURE;
00193     STDMETHOD_(D3DXHANDLE, GetFunction)(THIS_ UINT Index) PURE;
00194     STDMETHOD_(D3DXHANDLE, GetFunctionByName)(THIS_ LPCSTR pName) PURE;
00195     STDMETHOD_(D3DXHANDLE, GetAnnotation)(THIS_ D3DXHANDLE hObject, UINT Index) PURE;
00196     STDMETHOD_(D3DXHANDLE, GetAnnotationByName)(THIS_ D3DXHANDLE hObject, LPCSTR pName) PURE;
00197 
00198     <span class="comment">// Get/Set Parameters</span>
00199     STDMETHOD(SetValue)(THIS_ D3DXHANDLE hParameter, LPCVOID pData, UINT Bytes) PURE;
00200     STDMETHOD(GetValue)(THIS_ D3DXHANDLE hParameter, LPVOID pData, UINT Bytes) PURE;
00201     STDMETHOD(SetBool)(THIS_ D3DXHANDLE hParameter, BOOL b) PURE;
00202     STDMETHOD(GetBool)(THIS_ D3DXHANDLE hParameter, BOOL* pb) PURE;
00203     STDMETHOD(SetBoolArray)(THIS_ D3DXHANDLE hParameter, CONST BOOL* pb, UINT Count) PURE;
00204     STDMETHOD(GetBoolArray)(THIS_ D3DXHANDLE hParameter, BOOL* pb, UINT Count) PURE;
00205     STDMETHOD(SetInt)(THIS_ D3DXHANDLE hParameter, INT n) PURE;
00206     STDMETHOD(GetInt)(THIS_ D3DXHANDLE hParameter, INT* pn) PURE;
00207     STDMETHOD(SetIntArray)(THIS_ D3DXHANDLE hParameter, CONST INT* pn, UINT Count) PURE;
00208     STDMETHOD(GetIntArray)(THIS_ D3DXHANDLE hParameter, INT* pn, UINT Count) PURE;
00209     STDMETHOD(SetFloat)(THIS_ D3DXHANDLE hParameter, FLOAT f) PURE;
00210     STDMETHOD(GetFloat)(THIS_ D3DXHANDLE hParameter, FLOAT* pf) PURE;
00211     STDMETHOD(SetFloatArray)(THIS_ D3DXHANDLE hParameter, CONST FLOAT* pf, UINT Count) PURE;
00212     STDMETHOD(GetFloatArray)(THIS_ D3DXHANDLE hParameter, FLOAT* pf, UINT Count) PURE;
00213     STDMETHOD(SetVector)(THIS_ D3DXHANDLE hParameter, CONST D3DXVECTOR4* pVector) PURE;
00214     STDMETHOD(GetVector)(THIS_ D3DXHANDLE hParameter, D3DXVECTOR4* pVector) PURE;
00215     STDMETHOD(SetVectorArray)(THIS_ D3DXHANDLE hParameter, CONST D3DXVECTOR4* pVector, UINT Count) PURE;
00216     STDMETHOD(GetVectorArray)(THIS_ D3DXHANDLE hParameter, D3DXVECTOR4* pVector, UINT Count) PURE;
00217     STDMETHOD(SetMatrix)(THIS_ D3DXHANDLE hParameter, CONST D3DXMATRIX* pMatrix) PURE;
00218     STDMETHOD(GetMatrix)(THIS_ D3DXHANDLE hParameter, D3DXMATRIX* pMatrix) PURE;
00219     STDMETHOD(SetMatrixArray)(THIS_ D3DXHANDLE hParameter, CONST D3DXMATRIX* pMatrix, UINT Count) PURE;
00220     STDMETHOD(GetMatrixArray)(THIS_ D3DXHANDLE hParameter, D3DXMATRIX* pMatrix, UINT Count) PURE;
00221     STDMETHOD(SetMatrixPointerArray)(THIS_ D3DXHANDLE hParameter, CONST D3DXMATRIX** ppMatrix, UINT Count) PURE;
00222     STDMETHOD(GetMatrixPointerArray)(THIS_ D3DXHANDLE hParameter, D3DXMATRIX** ppMatrix, UINT Count) PURE;
00223     STDMETHOD(SetMatrixTranspose)(THIS_ D3DXHANDLE hParameter, CONST D3DXMATRIX* pMatrix) PURE;
00224     STDMETHOD(GetMatrixTranspose)(THIS_ D3DXHANDLE hParameter, D3DXMATRIX* pMatrix) PURE;
00225     STDMETHOD(SetMatrixTransposeArray)(THIS_ D3DXHANDLE hParameter, CONST D3DXMATRIX* pMatrix, UINT Count) PURE;
00226     STDMETHOD(GetMatrixTransposeArray)(THIS_ D3DXHANDLE hParameter, D3DXMATRIX* pMatrix, UINT Count) PURE;
00227     STDMETHOD(SetMatrixTransposePointerArray)(THIS_ D3DXHANDLE hParameter, CONST D3DXMATRIX** ppMatrix, UINT Count) PURE;
00228     STDMETHOD(GetMatrixTransposePointerArray)(THIS_ D3DXHANDLE hParameter, D3DXMATRIX** ppMatrix, UINT Count) PURE;
00229     STDMETHOD(SetString)(THIS_ D3DXHANDLE hParameter, LPCSTR pString) PURE;
00230     STDMETHOD(GetString)(THIS_ D3DXHANDLE hParameter, LPCSTR* ppString) PURE;
00231     STDMETHOD(SetTexture)(THIS_ D3DXHANDLE hParameter, LPDIRECT3DBASETEXTURE9 pTexture) PURE;
00232     STDMETHOD(GetTexture)(THIS_ D3DXHANDLE hParameter, LPDIRECT3DBASETEXTURE9 *ppTexture) PURE;
00233     STDMETHOD(SetPixelShader)(THIS_ D3DXHANDLE hParameter, LPDIRECT3DPIXELSHADER9 pPShader) PURE;
00234     STDMETHOD(GetPixelShader)(THIS_ D3DXHANDLE hParameter, LPDIRECT3DPIXELSHADER9 *ppPShader) PURE;
00235     STDMETHOD(SetVertexShader)(THIS_ D3DXHANDLE hParameter, LPDIRECT3DVERTEXSHADER9 pVShader) PURE;
00236     STDMETHOD(GetVertexShader)(THIS_ D3DXHANDLE hParameter, LPDIRECT3DVERTEXSHADER9 *ppVShader) PURE;
00237 
00238     <span class="comment">//Set Range of an Array to pass to device</span>
00239     <span class="comment">//Useful for sending only a subrange of an array down to the device</span>
00240     STDMETHOD(SetArrayRange)(THIS_ D3DXHANDLE hParameter, UINT uStart, UINT uEnd) PURE; 
00241 
00242 };
00243 
00244 
00245 <span class="comment">//----------------------------------------------------------------------------</span>
00246 <span class="comment">// ID3DXEffectStateManager:</span>
00247 <span class="comment">// ------------------------</span>
00248 <span class="comment">// This is a user implemented interface that can be used to manage device </span>
00249 <span class="comment">// state changes made by an Effect.</span>
00250 <span class="comment">//----------------------------------------------------------------------------</span>
00251 
00252 <span class="keyword">typedef</span> interface ID3DXEffectStateManager ID3DXEffectStateManager;
00253 <span class="keyword">typedef</span> interface ID3DXEffectStateManager *LPD3DXEFFECTSTATEMANAGER;
00254 
00255 <span class="comment">// {79AAB587-6DBC-4fa7-82DE-37FA1781C5CE}</span>
00256 DEFINE_GUID(IID_ID3DXEffectStateManager, 
00257 0x79aab587, 0x6dbc, 0x4fa7, 0x82, 0xde, 0x37, 0xfa, 0x17, 0x81, 0xc5, 0xce);
00258 
00259 <span class="preprocessor">#undef INTERFACE</span>
00260 <span class="preprocessor"></span><span class="preprocessor">#define INTERFACE ID3DXEffectStateManager</span>
00261 <span class="preprocessor"></span>
00262 DECLARE_INTERFACE_(ID3DXEffectStateManager, IUnknown)
00263 {
00264     <span class="comment">// The user must correctly implement QueryInterface, AddRef, and Release.</span>
00265 
00266     <span class="comment">// IUnknown</span>
00267     STDMETHOD(QueryInterface)(THIS_ REFIID iid, LPVOID *ppv) PURE;
00268     STDMETHOD_(ULONG, AddRef)(THIS) PURE;
00269     STDMETHOD_(ULONG, Release)(THIS) PURE;
00270 
00271     <span class="comment">// The following methods are called by the Effect when it wants to make </span>
00272     <span class="comment">// the corresponding device call.  Note that:</span>
00273     <span class="comment">// 1. Users manage the state and are therefore responsible for making the </span>
00274     <span class="comment">//    the corresponding device calls themselves inside their callbacks.  </span>
00275     <span class="comment">// 2. Effects pay attention to the return values of the callbacks, and so </span>
00276     <span class="comment">//    users must pay attention to what they return in their callbacks.</span>
00277 
00278     STDMETHOD(SetTransform)(THIS_ D3DTRANSFORMSTATETYPE State, CONST D3DMATRIX *pMatrix) PURE;
00279     STDMETHOD(SetMaterial)(THIS_ CONST D3DMATERIAL9 *pMaterial) PURE;
00280     STDMETHOD(SetLight)(THIS_ DWORD Index, CONST D3DLIGHT9 *pLight) PURE;
00281     STDMETHOD(LightEnable)(THIS_ DWORD Index, BOOL Enable) PURE;
00282     STDMETHOD(SetRenderState)(THIS_ D3DRENDERSTATETYPE State, DWORD Value) PURE;
00283     STDMETHOD(SetTexture)(THIS_ DWORD Stage, LPDIRECT3DBASETEXTURE9 pTexture) PURE;
00284     STDMETHOD(SetTextureStageState)(THIS_ DWORD Stage, D3DTEXTURESTAGESTATETYPE Type, DWORD Value) PURE;
00285     STDMETHOD(SetSamplerState)(THIS_ DWORD Sampler, D3DSAMPLERSTATETYPE Type, DWORD Value) PURE;
00286     STDMETHOD(SetNPatchMode)(THIS_ FLOAT NumSegments) PURE;
00287     STDMETHOD(SetFVF)(THIS_ DWORD FVF) PURE;
00288     STDMETHOD(SetVertexShader)(THIS_ LPDIRECT3DVERTEXSHADER9 pShader) PURE;
00289     STDMETHOD(SetVertexShaderConstantF)(THIS_ UINT RegisterIndex, CONST FLOAT *pConstantData, UINT RegisterCount) PURE;
00290     STDMETHOD(SetVertexShaderConstantI)(THIS_ UINT RegisterIndex, CONST INT *pConstantData, UINT RegisterCount) PURE;
00291     STDMETHOD(SetVertexShaderConstantB)(THIS_ UINT RegisterIndex, CONST BOOL *pConstantData, UINT RegisterCount) PURE;
00292     STDMETHOD(SetPixelShader)(THIS_ LPDIRECT3DPIXELSHADER9 pShader) PURE;
00293     STDMETHOD(SetPixelShaderConstantF)(THIS_ UINT RegisterIndex, CONST FLOAT *pConstantData, UINT RegisterCount) PURE;
00294     STDMETHOD(SetPixelShaderConstantI)(THIS_ UINT RegisterIndex, CONST INT *pConstantData, UINT RegisterCount) PURE;
00295     STDMETHOD(SetPixelShaderConstantB)(THIS_ UINT RegisterIndex, CONST BOOL *pConstantData, UINT RegisterCount) PURE;
00296 };
00297 
00298 
00300 <span class="comment">// ID3DXEffect ///////////////////////////////////////////////////////////////</span>
00302 <span class="comment"></span>
00303 <span class="keyword">typedef</span> interface ID3DXEffect ID3DXEffect;
00304 <span class="keyword">typedef</span> interface ID3DXEffect *LPD3DXEFFECT;
00305 
00306 <span class="comment">// {0F0DCC9F-6152-4117-A933-FFAC29C43AA4}</span>
00307 DEFINE_GUID(IID_ID3DXEffect, 
00308 0xf0dcc9f, 0x6152, 0x4117, 0xa9, 0x33, 0xff, 0xac, 0x29, 0xc4, 0x3a, 0xa4);
00309 
00310 <span class="preprocessor">#undef INTERFACE</span>
00311 <span class="preprocessor"></span><span class="preprocessor">#define INTERFACE ID3DXEffect</span>
00312 <span class="preprocessor"></span>
00313 DECLARE_INTERFACE_(ID3DXEffect, ID3DXBaseEffect)
00314 {
00315     <span class="comment">// ID3DXBaseEffect</span>
00316     STDMETHOD(QueryInterface)(THIS_ REFIID iid, LPVOID *ppv) PURE;
00317     STDMETHOD_(ULONG, AddRef)(THIS) PURE;
00318     STDMETHOD_(ULONG, Release)(THIS) PURE;
00319 
00320     <span class="comment">// Descs</span>
00321     STDMETHOD(GetDesc)(THIS_ D3DXEFFECT_DESC* pDesc) PURE;
00322     STDMETHOD(GetParameterDesc)(THIS_ D3DXHANDLE hParameter, D3DXPARAMETER_DESC* pDesc) PURE;
00323     STDMETHOD(GetTechniqueDesc)(THIS_ D3DXHANDLE hTechnique, D3DXTECHNIQUE_DESC* pDesc) PURE;
00324     STDMETHOD(GetPassDesc)(THIS_ D3DXHANDLE hPass, D3DXPASS_DESC* pDesc) PURE;
00325     STDMETHOD(GetFunctionDesc)(THIS_ D3DXHANDLE hShader, D3DXFUNCTION_DESC* pDesc) PURE;
00326 
00327     <span class="comment">// Handle operations</span>
00328     STDMETHOD_(D3DXHANDLE, GetParameter)(THIS_ D3DXHANDLE hParameter, UINT Index) PURE;
00329     STDMETHOD_(D3DXHANDLE, GetParameterByName)(THIS_ D3DXHANDLE hParameter, LPCSTR pName) PURE;
00330     STDMETHOD_(D3DXHANDLE, GetParameterBySemantic)(THIS_ D3DXHANDLE hParameter, LPCSTR pSemantic) PURE;
00331     STDMETHOD_(D3DXHANDLE, GetParameterElement)(THIS_ D3DXHANDLE hParameter, UINT Index) PURE;
00332     STDMETHOD_(D3DXHANDLE, GetTechnique)(THIS_ UINT Index) PURE;
00333     STDMETHOD_(D3DXHANDLE, GetTechniqueByName)(THIS_ LPCSTR pName) PURE;
00334     STDMETHOD_(D3DXHANDLE, GetPass)(THIS_ D3DXHANDLE hTechnique, UINT Index) PURE;
00335     STDMETHOD_(D3DXHANDLE, GetPassByName)(THIS_ D3DXHANDLE hTechnique, LPCSTR pName) PURE;
00336     STDMETHOD_(D3DXHANDLE, GetFunction)(THIS_ UINT Index) PURE;
00337     STDMETHOD_(D3DXHANDLE, GetFunctionByName)(THIS_ LPCSTR pName) PURE;
00338     STDMETHOD_(D3DXHANDLE, GetAnnotation)(THIS_ D3DXHANDLE hObject, UINT Index) PURE;
00339     STDMETHOD_(D3DXHANDLE, GetAnnotationByName)(THIS_ D3DXHANDLE hObject, LPCSTR pName) PURE;
00340 
00341     <span class="comment">// Get/Set Parameters</span>
00342     STDMETHOD(SetValue)(THIS_ D3DXHANDLE hParameter, LPCVOID pData, UINT Bytes) PURE;
00343     STDMETHOD(GetValue)(THIS_ D3DXHANDLE hParameter, LPVOID pData, UINT Bytes) PURE;
00344     STDMETHOD(SetBool)(THIS_ D3DXHANDLE hParameter, BOOL b) PURE;
00345     STDMETHOD(GetBool)(THIS_ D3DXHANDLE hParameter, BOOL* pb) PURE;
00346     STDMETHOD(SetBoolArray)(THIS_ D3DXHANDLE hParameter, CONST BOOL* pb, UINT Count) PURE;
00347     STDMETHOD(GetBoolArray)(THIS_ D3DXHANDLE hParameter, BOOL* pb, UINT Count) PURE;
00348     STDMETHOD(SetInt)(THIS_ D3DXHANDLE hParameter, INT n) PURE;
00349     STDMETHOD(GetInt)(THIS_ D3DXHANDLE hParameter, INT* pn) PURE;
00350     STDMETHOD(SetIntArray)(THIS_ D3DXHANDLE hParameter, CONST INT* pn, UINT Count) PURE;
00351     STDMETHOD(GetIntArray)(THIS_ D3DXHANDLE hParameter, INT* pn, UINT Count) PURE;
00352     STDMETHOD(SetFloat)(THIS_ D3DXHANDLE hParameter, FLOAT f) PURE;
00353     STDMETHOD(GetFloat)(THIS_ D3DXHANDLE hParameter, FLOAT* pf) PURE;
00354     STDMETHOD(SetFloatArray)(THIS_ D3DXHANDLE hParameter, CONST FLOAT* pf, UINT Count) PURE;
00355     STDMETHOD(GetFloatArray)(THIS_ D3DXHANDLE hParameter, FLOAT* pf, UINT Count) PURE;
00356     STDMETHOD(SetVector)(THIS_ D3DXHANDLE hParameter, CONST D3DXVECTOR4* pVector) PURE;
00357     STDMETHOD(GetVector)(THIS_ D3DXHANDLE hParameter, D3DXVECTOR4* pVector) PURE;
00358     STDMETHOD(SetVectorArray)(THIS_ D3DXHANDLE hParameter, CONST D3DXVECTOR4* pVector, UINT Count) PURE;
00359     STDMETHOD(GetVectorArray)(THIS_ D3DXHANDLE hParameter, D3DXVECTOR4* pVector, UINT Count) PURE;
00360     STDMETHOD(SetMatrix)(THIS_ D3DXHANDLE hParameter, CONST D3DXMATRIX* pMatrix) PURE;
00361     STDMETHOD(GetMatrix)(THIS_ D3DXHANDLE hParameter, D3DXMATRIX* pMatrix) PURE;
00362     STDMETHOD(SetMatrixArray)(THIS_ D3DXHANDLE hParameter, CONST D3DXMATRIX* pMatrix, UINT Count) PURE;
00363     STDMETHOD(GetMatrixArray)(THIS_ D3DXHANDLE hParameter, D3DXMATRIX* pMatrix, UINT Count) PURE;
00364     STDMETHOD(SetMatrixPointerArray)(THIS_ D3DXHANDLE hParameter, CONST D3DXMATRIX** ppMatrix, UINT Count) PURE;
00365     STDMETHOD(GetMatrixPointerArray)(THIS_ D3DXHANDLE hParameter, D3DXMATRIX** ppMatrix, UINT Count) PURE;
00366     STDMETHOD(SetMatrixTranspose)(THIS_ D3DXHANDLE hParameter, CONST D3DXMATRIX* pMatrix) PURE;
00367     STDMETHOD(GetMatrixTranspose)(THIS_ D3DXHANDLE hParameter, D3DXMATRIX* pMatrix) PURE;
00368     STDMETHOD(SetMatrixTransposeArray)(THIS_ D3DXHANDLE hParameter, CONST D3DXMATRIX* pMatrix, UINT Count) PURE;
00369     STDMETHOD(GetMatrixTransposeArray)(THIS_ D3DXHANDLE hParameter, D3DXMATRIX* pMatrix, UINT Count) PURE;
00370     STDMETHOD(SetMatrixTransposePointerArray)(THIS_ D3DXHANDLE hParameter, CONST D3DXMATRIX** ppMatrix, UINT Count) PURE;
00371     STDMETHOD(GetMatrixTransposePointerArray)(THIS_ D3DXHANDLE hParameter, D3DXMATRIX** ppMatrix, UINT Count) PURE;
00372     STDMETHOD(SetString)(THIS_ D3DXHANDLE hParameter, LPCSTR pString) PURE;
00373     STDMETHOD(GetString)(THIS_ D3DXHANDLE hParameter, LPCSTR* ppString) PURE;
00374     STDMETHOD(SetTexture)(THIS_ D3DXHANDLE hParameter, LPDIRECT3DBASETEXTURE9 pTexture) PURE;
00375     STDMETHOD(GetTexture)(THIS_ D3DXHANDLE hParameter, LPDIRECT3DBASETEXTURE9 *ppTexture) PURE;
00376     STDMETHOD(SetPixelShader)(THIS_ D3DXHANDLE hParameter, LPDIRECT3DPIXELSHADER9 pPShader) PURE;
00377     STDMETHOD(GetPixelShader)(THIS_ D3DXHANDLE hParameter, LPDIRECT3DPIXELSHADER9 *ppPShader) PURE;
00378     STDMETHOD(SetVertexShader)(THIS_ D3DXHANDLE hParameter, LPDIRECT3DVERTEXSHADER9 pVShader) PURE;
00379     STDMETHOD(GetVertexShader)(THIS_ D3DXHANDLE hParameter, LPDIRECT3DVERTEXSHADER9 *ppVShader) PURE;
00380 
00381     <span class="comment">//Set Range of an Array to pass to device</span>
00382     <span class="comment">//Usefull for sending only a subrange of an array down to the device</span>
00383     STDMETHOD(SetArrayRange)(THIS_ D3DXHANDLE hParameter, UINT uStart, UINT uEnd) PURE; 
00384     <span class="comment">// ID3DXBaseEffect</span>
00385     
00386     
00387     <span class="comment">// Pool</span>
00388     STDMETHOD(GetPool)(THIS_ LPD3DXEFFECTPOOL* ppPool) PURE;
00389 
00390     <span class="comment">// Selecting and setting a technique</span>
00391     STDMETHOD(SetTechnique)(THIS_ D3DXHANDLE hTechnique) PURE;
00392     STDMETHOD_(D3DXHANDLE, GetCurrentTechnique)(THIS) PURE;
00393     STDMETHOD(ValidateTechnique)(THIS_ D3DXHANDLE hTechnique) PURE;
00394     STDMETHOD(FindNextValidTechnique)(THIS_ D3DXHANDLE hTechnique, D3DXHANDLE *pTechnique) PURE;
00395     STDMETHOD_(BOOL, IsParameterUsed)(THIS_ D3DXHANDLE hParameter, D3DXHANDLE hTechnique) PURE;
00396 
00397     <span class="comment">// Using current technique</span>
00398     <span class="comment">// Begin           starts active technique</span>
00399     <span class="comment">// BeginPass       begins a pass</span>
00400     <span class="comment">// CommitChanges   updates changes to any set calls in the pass. This should be called before</span>
00401     <span class="comment">//                 any DrawPrimitive call to d3d</span>
00402     <span class="comment">// EndPass         ends a pass</span>
00403     <span class="comment">// End             ends active technique</span>
00404     STDMETHOD(Begin)(THIS_ UINT *pPasses, DWORD Flags) PURE;
00405     STDMETHOD(BeginPass)(THIS_ UINT Pass) PURE;
00406     STDMETHOD(CommitChanges)(THIS) PURE;
00407     STDMETHOD(EndPass)(THIS) PURE;
00408     STDMETHOD(End)(THIS) PURE;
00409 
00410     <span class="comment">// Managing D3D Device</span>
00411     STDMETHOD(GetDevice)(THIS_ LPDIRECT3DDEVICE9* ppDevice) PURE;
00412     STDMETHOD(OnLostDevice)(THIS) PURE;
00413     STDMETHOD(OnResetDevice)(THIS) PURE;
00414 
00415     <span class="comment">// Logging device calls</span>
00416     STDMETHOD(SetStateManager)(THIS_ LPD3DXEFFECTSTATEMANAGER pManager) PURE;
00417     STDMETHOD(GetStateManager)(THIS_ LPD3DXEFFECTSTATEMANAGER *ppManager) PURE;
00418 
00419     <span class="comment">// Parameter blocks</span>
00420     STDMETHOD(BeginParameterBlock)(THIS) PURE;
00421     STDMETHOD_(D3DXHANDLE, EndParameterBlock)(THIS) PURE;
00422     STDMETHOD(ApplyParameterBlock)(THIS_ D3DXHANDLE hParameterBlock) PURE;
00423 
00424     <span class="comment">// Cloning</span>
00425     STDMETHOD(CloneEffect)(THIS_ LPDIRECT3DDEVICE9 pDevice, LPD3DXEFFECT* ppEffect) PURE;
00426 };
00427 
00428 
00430 <span class="comment">// ID3DXEffectCompiler ///////////////////////////////////////////////////////</span>
00432 <span class="comment"></span>
00433 <span class="keyword">typedef</span> interface ID3DXEffectCompiler ID3DXEffectCompiler;
00434 <span class="keyword">typedef</span> interface ID3DXEffectCompiler *LPD3DXEFFECTCOMPILER;
00435 
00436 <span class="comment">// {15A709EB-5A8E-40a0-86A9-0C024124339B}</span>
00437 DEFINE_GUID(IID_ID3DXEffectCompiler, 
00438 0x15a709eb, 0x5a8e, 0x40a0, 0x86, 0xa9, 0xc, 0x2, 0x41, 0x24, 0x33, 0x9b);
00439 
00440 
00441 <span class="preprocessor">#undef INTERFACE</span>
00442 <span class="preprocessor"></span><span class="preprocessor">#define INTERFACE ID3DXEffectCompiler</span>
00443 <span class="preprocessor"></span>
00444 DECLARE_INTERFACE_(ID3DXEffectCompiler, ID3DXBaseEffect)
00445 {
00446     <span class="comment">// ID3DXBaseEffect</span>
00447     STDMETHOD(QueryInterface)(THIS_ REFIID iid, LPVOID *ppv) PURE;
00448     STDMETHOD_(ULONG, AddRef)(THIS) PURE;
00449     STDMETHOD_(ULONG, Release)(THIS) PURE;
00450 
00451     <span class="comment">// Descs</span>
00452     STDMETHOD(GetDesc)(THIS_ D3DXEFFECT_DESC* pDesc) PURE;
00453     STDMETHOD(GetParameterDesc)(THIS_ D3DXHANDLE hParameter, D3DXPARAMETER_DESC* pDesc) PURE;
00454     STDMETHOD(GetTechniqueDesc)(THIS_ D3DXHANDLE hTechnique, D3DXTECHNIQUE_DESC* pDesc) PURE;
00455     STDMETHOD(GetPassDesc)(THIS_ D3DXHANDLE hPass, D3DXPASS_DESC* pDesc) PURE;
00456     STDMETHOD(GetFunctionDesc)(THIS_ D3DXHANDLE hShader, D3DXFUNCTION_DESC* pDesc) PURE;
00457 
00458     <span class="comment">// Handle operations</span>
00459     STDMETHOD_(D3DXHANDLE, GetParameter)(THIS_ D3DXHANDLE hParameter, UINT Index) PURE;
00460     STDMETHOD_(D3DXHANDLE, GetParameterByName)(THIS_ D3DXHANDLE hParameter, LPCSTR pName) PURE;
00461     STDMETHOD_(D3DXHANDLE, GetParameterBySemantic)(THIS_ D3DXHANDLE hParameter, LPCSTR pSemantic) PURE;
00462     STDMETHOD_(D3DXHANDLE, GetParameterElement)(THIS_ D3DXHANDLE hParameter, UINT Index) PURE;
00463     STDMETHOD_(D3DXHANDLE, GetTechnique)(THIS_ UINT Index) PURE;
00464     STDMETHOD_(D3DXHANDLE, GetTechniqueByName)(THIS_ LPCSTR pName) PURE;
00465     STDMETHOD_(D3DXHANDLE, GetPass)(THIS_ D3DXHANDLE hTechnique, UINT Index) PURE;
00466     STDMETHOD_(D3DXHANDLE, GetPassByName)(THIS_ D3DXHANDLE hTechnique, LPCSTR pName) PURE;
00467     STDMETHOD_(D3DXHANDLE, GetFunction)(THIS_ UINT Index) PURE;
00468     STDMETHOD_(D3DXHANDLE, GetFunctionByName)(THIS_ LPCSTR pName) PURE;
00469     STDMETHOD_(D3DXHANDLE, GetAnnotation)(THIS_ D3DXHANDLE hObject, UINT Index) PURE;
00470     STDMETHOD_(D3DXHANDLE, GetAnnotationByName)(THIS_ D3DXHANDLE hObject, LPCSTR pName) PURE;
00471 
00472     <span class="comment">// Get/Set Parameters</span>
00473     STDMETHOD(SetValue)(THIS_ D3DXHANDLE hParameter, LPCVOID pData, UINT Bytes) PURE;
00474     STDMETHOD(GetValue)(THIS_ D3DXHANDLE hParameter, LPVOID pData, UINT Bytes) PURE;
00475     STDMETHOD(SetBool)(THIS_ D3DXHANDLE hParameter, BOOL b) PURE;
00476     STDMETHOD(GetBool)(THIS_ D3DXHANDLE hParameter, BOOL* pb) PURE;
00477     STDMETHOD(SetBoolArray)(THIS_ D3DXHANDLE hParameter, CONST BOOL* pb, UINT Count) PURE;
00478     STDMETHOD(GetBoolArray)(THIS_ D3DXHANDLE hParameter, BOOL* pb, UINT Count) PURE;
00479     STDMETHOD(SetInt)(THIS_ D3DXHANDLE hParameter, INT n) PURE;
00480     STDMETHOD(GetInt)(THIS_ D3DXHANDLE hParameter, INT* pn) PURE;
00481     STDMETHOD(SetIntArray)(THIS_ D3DXHANDLE hParameter, CONST INT* pn, UINT Count) PURE;
00482     STDMETHOD(GetIntArray)(THIS_ D3DXHANDLE hParameter, INT* pn, UINT Count) PURE;
00483     STDMETHOD(SetFloat)(THIS_ D3DXHANDLE hParameter, FLOAT f) PURE;
00484     STDMETHOD(GetFloat)(THIS_ D3DXHANDLE hParameter, FLOAT* pf) PURE;
00485     STDMETHOD(SetFloatArray)(THIS_ D3DXHANDLE hParameter, CONST FLOAT* pf, UINT Count) PURE;
00486     STDMETHOD(GetFloatArray)(THIS_ D3DXHANDLE hParameter, FLOAT* pf, UINT Count) PURE;
00487     STDMETHOD(SetVector)(THIS_ D3DXHANDLE hParameter, CONST D3DXVECTOR4* pVector) PURE;
00488     STDMETHOD(GetVector)(THIS_ D3DXHANDLE hParameter, D3DXVECTOR4* pVector) PURE;
00489     STDMETHOD(SetVectorArray)(THIS_ D3DXHANDLE hParameter, CONST D3DXVECTOR4* pVector, UINT Count) PURE;
00490     STDMETHOD(GetVectorArray)(THIS_ D3DXHANDLE hParameter, D3DXVECTOR4* pVector, UINT Count) PURE;
00491     STDMETHOD(SetMatrix)(THIS_ D3DXHANDLE hParameter, CONST D3DXMATRIX* pMatrix) PURE;
00492     STDMETHOD(GetMatrix)(THIS_ D3DXHANDLE hParameter, D3DXMATRIX* pMatrix) PURE;
00493     STDMETHOD(SetMatrixArray)(THIS_ D3DXHANDLE hParameter, CONST D3DXMATRIX* pMatrix, UINT Count) PURE;
00494     STDMETHOD(GetMatrixArray)(THIS_ D3DXHANDLE hParameter, D3DXMATRIX* pMatrix, UINT Count) PURE;
00495     STDMETHOD(SetMatrixPointerArray)(THIS_ D3DXHANDLE hParameter, CONST D3DXMATRIX** ppMatrix, UINT Count) PURE;
00496     STDMETHOD(GetMatrixPointerArray)(THIS_ D3DXHANDLE hParameter, D3DXMATRIX** ppMatrix, UINT Count) PURE;
00497     STDMETHOD(SetMatrixTranspose)(THIS_ D3DXHANDLE hParameter, CONST D3DXMATRIX* pMatrix) PURE;
00498     STDMETHOD(GetMatrixTranspose)(THIS_ D3DXHANDLE hParameter, D3DXMATRIX* pMatrix) PURE;
00499     STDMETHOD(SetMatrixTransposeArray)(THIS_ D3DXHANDLE hParameter, CONST D3DXMATRIX* pMatrix, UINT Count) PURE;
00500     STDMETHOD(GetMatrixTransposeArray)(THIS_ D3DXHANDLE hParameter, D3DXMATRIX* pMatrix, UINT Count) PURE;
00501     STDMETHOD(SetMatrixTransposePointerArray)(THIS_ D3DXHANDLE hParameter, CONST D3DXMATRIX** ppMatrix, UINT Count) PURE;
00502     STDMETHOD(GetMatrixTransposePointerArray)(THIS_ D3DXHANDLE hParameter, D3DXMATRIX** ppMatrix, UINT Count) PURE;
00503     STDMETHOD(SetString)(THIS_ D3DXHANDLE hParameter, LPCSTR pString) PURE;
00504     STDMETHOD(GetString)(THIS_ D3DXHANDLE hParameter, LPCSTR* ppString) PURE;
00505     STDMETHOD(SetTexture)(THIS_ D3DXHANDLE hParameter, LPDIRECT3DBASETEXTURE9 pTexture) PURE;
00506     STDMETHOD(GetTexture)(THIS_ D3DXHANDLE hParameter, LPDIRECT3DBASETEXTURE9 *ppTexture) PURE;
00507     STDMETHOD(SetPixelShader)(THIS_ D3DXHANDLE hParameter, LPDIRECT3DPIXELSHADER9 pPShader) PURE;
00508     STDMETHOD(GetPixelShader)(THIS_ D3DXHANDLE hParameter, LPDIRECT3DPIXELSHADER9 *ppPShader) PURE;
00509     STDMETHOD(SetVertexShader)(THIS_ D3DXHANDLE hParameter, LPDIRECT3DVERTEXSHADER9 pVShader) PURE;
00510     STDMETHOD(GetVertexShader)(THIS_ D3DXHANDLE hParameter, LPDIRECT3DVERTEXSHADER9 *ppVShader) PURE;
00511     
00512     <span class="comment">//Set Range of an Array to pass to device</span>
00513     <span class="comment">//Usefull for sending only a subrange of an array down to the device</span>
00514     STDMETHOD(SetArrayRange)(THIS_ D3DXHANDLE hParameter, UINT uStart, UINT uEnd) PURE; 
00515     <span class="comment">// ID3DXBaseEffect</span>
00516 
00517     <span class="comment">// Parameter sharing, specialization, and information</span>
00518     STDMETHOD(SetLiteral)(THIS_ D3DXHANDLE hParameter, BOOL Literal) PURE;
00519     STDMETHOD(GetLiteral)(THIS_ D3DXHANDLE hParameter, BOOL *pLiteral) PURE;
00520 
00521     <span class="comment">// Compilation</span>
00522     STDMETHOD(CompileEffect)(THIS_ DWORD Flags,
00523         LPD3DXBUFFER* ppEffect, LPD3DXBUFFER* ppErrorMsgs) PURE;
00524 
00525     STDMETHOD(CompileShader)(THIS_ D3DXHANDLE hFunction, LPCSTR pTarget, DWORD Flags,
00526         LPD3DXBUFFER* ppShader, LPD3DXBUFFER* ppErrorMsgs, LPD3DXCONSTANTTABLE* ppConstantTable) PURE;
00527 };
00528 
00529 
00531 <span class="comment">// APIs //////////////////////////////////////////////////////////////////////</span>
00533 <span class="comment"></span>
00534 
00535 <span class="preprocessor">#ifdef __cplusplus</span>
00536 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
00537 <span class="preprocessor">#endif //__cplusplus</span>
00538 <span class="preprocessor"></span>
00539 <span class="comment">//----------------------------------------------------------------------------</span>
00540 <span class="comment">// D3DXCreateEffectPool:</span>
00541 <span class="comment">// ---------------------</span>
00542 <span class="comment">// Creates an effect pool.  Pools are used for sharing parameters between</span>
00543 <span class="comment">// multiple effects.  For all effects within a pool, shared parameters of the</span>
00544 <span class="comment">// same name all share the same value.</span>
00545 <span class="comment">//</span>
00546 <span class="comment">// Parameters:</span>
00547 <span class="comment">//  ppPool</span>
00548 <span class="comment">//      Returns the created pool.</span>
00549 <span class="comment">//----------------------------------------------------------------------------</span>
00550 
00551 HRESULT WINAPI
00552     D3DXCreateEffectPool(
00553         LPD3DXEFFECTPOOL*               ppPool);
00554 
00555 
00556 <span class="comment">//----------------------------------------------------------------------------</span>
00557 <span class="comment">// D3DXCreateEffect:</span>
00558 <span class="comment">// -----------------</span>
00559 <span class="comment">// Creates an effect from an ascii or binary effect description.</span>
00560 <span class="comment">//</span>
00561 <span class="comment">// Parameters:</span>
00562 <span class="comment">//  pDevice</span>
00563 <span class="comment">//      Pointer of the device on which to create the effect</span>
00564 <span class="comment">//  pSrcFile</span>
00565 <span class="comment">//      Name of the file containing the effect description</span>
00566 <span class="comment">//  hSrcModule</span>
00567 <span class="comment">//      Module handle. if NULL, current module will be used.</span>
00568 <span class="comment">//  pSrcResource</span>
00569 <span class="comment">//      Resource name in module</span>
00570 <span class="comment">//  pSrcData</span>
00571 <span class="comment">//      Pointer to effect description</span>
00572 <span class="comment">//  SrcDataSize</span>
00573 <span class="comment">//      Size of the effect description in bytes</span>
00574 <span class="comment">//  pDefines</span>
00575 <span class="comment">//      Optional NULL-terminated array of preprocessor macro definitions.</span>
00576 <span class="comment">//  pInclude</span>
00577 <span class="comment">//      Optional interface pointer to use for handling #include directives.</span>
00578 <span class="comment">//      If this parameter is NULL, #includes will be honored when compiling</span>
00579 <span class="comment">//      from file, and will error when compiling from resource or memory.</span>
00580 <span class="comment">//  pPool</span>
00581 <span class="comment">//      Pointer to ID3DXEffectPool object to use for shared parameters.</span>
00582 <span class="comment">//      If NULL, no parameters will be shared.</span>
00583 <span class="comment">//  ppEffect</span>
00584 <span class="comment">//      Returns a buffer containing created effect.</span>
00585 <span class="comment">//  ppCompilationErrors</span>
00586 <span class="comment">//      Returns a buffer containing any error messages which occurred during</span>
00587 <span class="comment">//      compile.  Or NULL if you do not care about the error messages.</span>
00588 <span class="comment">//</span>
00589 <span class="comment">//----------------------------------------------------------------------------</span>
00590 
00591 HRESULT WINAPI
00592     D3DXCreateEffectFromFileA(
00593         LPDIRECT3DDEVICE9               pDevice,
00594         LPCSTR                          pSrcFile,
00595         CONST D3DXMACRO*                pDefines,
00596         LPD3DXINCLUDE                   pInclude,
00597         DWORD                           Flags,
00598         LPD3DXEFFECTPOOL                pPool,
00599         LPD3DXEFFECT*                   ppEffect,
00600         LPD3DXBUFFER*                   ppCompilationErrors);
00601 
00602 HRESULT WINAPI
00603     D3DXCreateEffectFromFileW(
00604         LPDIRECT3DDEVICE9               pDevice,
00605         LPCWSTR                         pSrcFile,
00606         CONST D3DXMACRO*                pDefines,
00607         LPD3DXINCLUDE                   pInclude,
00608         DWORD                           Flags,
00609         LPD3DXEFFECTPOOL                pPool,
00610         LPD3DXEFFECT*                   ppEffect,
00611         LPD3DXBUFFER*                   ppCompilationErrors);
00612 
00613 <span class="preprocessor">#ifdef UNICODE</span>
00614 <span class="preprocessor"></span><span class="preprocessor">#define D3DXCreateEffectFromFile D3DXCreateEffectFromFileW</span>
00615 <span class="preprocessor"></span><span class="preprocessor">#else</span>
00616 <span class="preprocessor"></span><span class="preprocessor">#define D3DXCreateEffectFromFile D3DXCreateEffectFromFileA</span>
00617 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00618 <span class="preprocessor"></span>
00619 
00620 HRESULT WINAPI
00621     D3DXCreateEffectFromResourceA(
00622         LPDIRECT3DDEVICE9               pDevice,
00623         HMODULE                         hSrcModule,
00624         LPCSTR                          pSrcResource,
00625         CONST D3DXMACRO*                pDefines,
00626         LPD3DXINCLUDE                   pInclude,
00627         DWORD                           Flags,
00628         LPD3DXEFFECTPOOL                pPool,
00629         LPD3DXEFFECT*                   ppEffect,
00630         LPD3DXBUFFER*                   ppCompilationErrors);
00631 
00632 HRESULT WINAPI
00633     D3DXCreateEffectFromResourceW(
00634         LPDIRECT3DDEVICE9               pDevice,
00635         HMODULE                         hSrcModule,
00636         LPCWSTR                         pSrcResource,
00637         CONST D3DXMACRO*                pDefines,
00638         LPD3DXINCLUDE                   pInclude,
00639         DWORD                           Flags,
00640         LPD3DXEFFECTPOOL                pPool,
00641         LPD3DXEFFECT*                   ppEffect,
00642         LPD3DXBUFFER*                   ppCompilationErrors);
00643 
00644 <span class="preprocessor">#ifdef UNICODE</span>
00645 <span class="preprocessor"></span><span class="preprocessor">#define D3DXCreateEffectFromResource D3DXCreateEffectFromResourceW</span>
00646 <span class="preprocessor"></span><span class="preprocessor">#else</span>
00647 <span class="preprocessor"></span><span class="preprocessor">#define D3DXCreateEffectFromResource D3DXCreateEffectFromResourceA</span>
00648 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00649 <span class="preprocessor"></span>
00650 
00651 HRESULT WINAPI
00652     D3DXCreateEffect(
00653         LPDIRECT3DDEVICE9               pDevice,
00654         LPCVOID                         pSrcData,
00655         UINT                            SrcDataLen,
00656         CONST D3DXMACRO*                pDefines,
00657         LPD3DXINCLUDE                   pInclude,
00658         DWORD                           Flags,
00659         LPD3DXEFFECTPOOL                pPool,
00660         LPD3DXEFFECT*                   ppEffect,
00661         LPD3DXBUFFER*                   ppCompilationErrors);
00662 
00663 
00664 
00665 <span class="comment">//----------------------------------------------------------------------------</span>
00666 <span class="comment">// D3DXCreateEffectCompiler:</span>
00667 <span class="comment">// -------------------------</span>
00668 <span class="comment">// Creates an effect from an ascii or binary effect description.</span>
00669 <span class="comment">//</span>
00670 <span class="comment">// Parameters:</span>
00671 <span class="comment">//  pSrcFile</span>
00672 <span class="comment">//      Name of the file containing the effect description</span>
00673 <span class="comment">//  hSrcModule</span>
00674 <span class="comment">//      Module handle. if NULL, current module will be used.</span>
00675 <span class="comment">//  pSrcResource</span>
00676 <span class="comment">//      Resource name in module</span>
00677 <span class="comment">//  pSrcData</span>
00678 <span class="comment">//      Pointer to effect description</span>
00679 <span class="comment">//  SrcDataSize</span>
00680 <span class="comment">//      Size of the effect description in bytes</span>
00681 <span class="comment">//  pDefines</span>
00682 <span class="comment">//      Optional NULL-terminated array of preprocessor macro definitions.</span>
00683 <span class="comment">//  pInclude</span>
00684 <span class="comment">//      Optional interface pointer to use for handling #include directives.</span>
00685 <span class="comment">//      If this parameter is NULL, #includes will be honored when compiling</span>
00686 <span class="comment">//      from file, and will error when compiling from resource or memory.</span>
00687 <span class="comment">//  pPool</span>
00688 <span class="comment">//      Pointer to ID3DXEffectPool object to use for shared parameters.</span>
00689 <span class="comment">//      If NULL, no parameters will be shared.</span>
00690 <span class="comment">//  ppCompiler</span>
00691 <span class="comment">//      Returns a buffer containing created effect compiler.</span>
00692 <span class="comment">//  ppParseErrors</span>
00693 <span class="comment">//      Returns a buffer containing any error messages which occurred during</span>
00694 <span class="comment">//      parse.  Or NULL if you do not care about the error messages.</span>
00695 <span class="comment">//</span>
00696 <span class="comment">//----------------------------------------------------------------------------</span>
00697 
00698 HRESULT WINAPI
00699     D3DXCreateEffectCompilerFromFileA(
00700         LPCSTR                          pSrcFile,
00701         CONST D3DXMACRO*                pDefines,
00702         LPD3DXINCLUDE                   pInclude,
00703         DWORD                           Flags,
00704         LPD3DXEFFECTCOMPILER*           ppCompiler,
00705         LPD3DXBUFFER*                   ppParseErrors);
00706 
00707 HRESULT WINAPI
00708     D3DXCreateEffectCompilerFromFileW(
00709         LPCWSTR                         pSrcFile,
00710         CONST D3DXMACRO*                pDefines,
00711         LPD3DXINCLUDE                   pInclude,
00712         DWORD                           Flags,
00713         LPD3DXEFFECTCOMPILER*           ppCompiler,
00714         LPD3DXBUFFER*                   ppParseErrors);
00715 
00716 <span class="preprocessor">#ifdef UNICODE</span>
00717 <span class="preprocessor"></span><span class="preprocessor">#define D3DXCreateEffectCompilerFromFile D3DXCreateEffectCompilerFromFileW</span>
00718 <span class="preprocessor"></span><span class="preprocessor">#else</span>
00719 <span class="preprocessor"></span><span class="preprocessor">#define D3DXCreateEffectCompilerFromFile D3DXCreateEffectCompilerFromFileA</span>
00720 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00721 <span class="preprocessor"></span>
00722 
00723 HRESULT WINAPI
00724     D3DXCreateEffectCompilerFromResourceA(
00725         HMODULE                         hSrcModule,
00726         LPCSTR                          pSrcResource,
00727         CONST D3DXMACRO*                pDefines,
00728         LPD3DXINCLUDE                   pInclude,
00729         DWORD                           Flags,
00730         LPD3DXEFFECTCOMPILER*           ppCompiler,
00731         LPD3DXBUFFER*                   ppParseErrors);
00732 
00733 HRESULT WINAPI
00734     D3DXCreateEffectCompilerFromResourceW(
00735         HMODULE                         hSrcModule,
00736         LPCWSTR                         pSrcResource,
00737         CONST D3DXMACRO*                pDefines,
00738         LPD3DXINCLUDE                   pInclude,
00739         DWORD                           Flags,
00740         LPD3DXEFFECTCOMPILER*           ppCompiler,
00741         LPD3DXBUFFER*                   ppParseErrors);
00742 
00743 <span class="preprocessor">#ifdef UNICODE</span>
00744 <span class="preprocessor"></span><span class="preprocessor">#define D3DXCreateEffectCompilerFromResource D3DXCreateEffectCompilerFromResourceW</span>
00745 <span class="preprocessor"></span><span class="preprocessor">#else</span>
00746 <span class="preprocessor"></span><span class="preprocessor">#define D3DXCreateEffectCompilerFromResource D3DXCreateEffectCompilerFromResourceA</span>
00747 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00748 <span class="preprocessor"></span>
00749 
00750 HRESULT WINAPI
00751     D3DXCreateEffectCompiler(
00752         LPCSTR                          pSrcData,
00753         UINT                            SrcDataLen,
00754         CONST D3DXMACRO*                pDefines,
00755         LPD3DXINCLUDE                   pInclude,
00756         DWORD                           Flags,
00757         LPD3DXEFFECTCOMPILER*           ppCompiler,
00758         LPD3DXBUFFER*                   ppParseErrors);
00759 
00760 <span class="comment">//----------------------------------------------------------------------------</span>
00761 <span class="comment">// D3DXDisassembleEffect:</span>
00762 <span class="comment">// -----------------------</span>
00763 <span class="comment">//</span>
00764 <span class="comment">// Parameters:</span>
00765 <span class="comment">//----------------------------------------------------------------------------</span>
00766 
00767 HRESULT WINAPI 
00768     D3DXDisassembleEffect(
00769         LPD3DXEFFECT pEffect, 
00770         BOOL EnableColorCode, 
00771         LPD3DXBUFFER *ppDisassembly);
00772         
00773 
00774 
00775 <span class="preprocessor">#ifdef __cplusplus</span>
00776 <span class="preprocessor"></span>}
00777 <span class="preprocessor">#endif //__cplusplus</span>
00778 <span class="preprocessor"></span>
00779 <span class="preprocessor">#endif //__D3DX9EFFECT_H__</span>
00780 <span class="preprocessor"></span>
00781 
</pre></div><hr><address style="align: right;"><small>
Generated on Tue Jun 13 11:14:34 2006 for gRenderDX9 by <a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 width=110 height=53>
</a> 1.3.1 using KingsTools</small></address>
</body>
</html>
