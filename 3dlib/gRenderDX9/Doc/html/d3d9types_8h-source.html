<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>gRenderDX9: d3d9types.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.1 -->
<h1>d3d9types.h</h1><div class="fragment"><pre>00001 <span class="comment">/*==========================================================================;</span>
00002 <span class="comment"> *</span>
00003 <span class="comment"> *  Copyright (C) Microsoft Corporation.  All Rights Reserved.</span>
00004 <span class="comment"> *</span>
00005 <span class="comment"> *  File:       d3d9types.h</span>
00006 <span class="comment"> *  Content:    Direct3D capabilities include file</span>
00007 <span class="comment"> *</span>
00008 <span class="comment"> ***************************************************************************/</span>
00009 
00010 <span class="preprocessor">#ifndef _d3d9TYPES_H_</span>
00011 <span class="preprocessor"></span><span class="preprocessor">#define _d3d9TYPES_H_</span>
00012 <span class="preprocessor"></span>
00013 <span class="preprocessor">#ifndef DIRECT3D_VERSION</span>
00014 <span class="preprocessor"></span><span class="preprocessor">#define DIRECT3D_VERSION         0x0900</span>
00015 <span class="preprocessor"></span><span class="preprocessor">#endif  //DIRECT3D_VERSION</span>
00016 <span class="preprocessor"></span>
00017 <span class="comment">// include this file content only if compiling for DX9 interfaces</span>
00018 <span class="preprocessor">#if(DIRECT3D_VERSION &gt;= 0x0900)</span>
00019 <span class="preprocessor"></span>
00020 <span class="preprocessor">#include &lt;float.h&gt;</span>
00021 
00022 <span class="preprocessor">#if _MSC_VER &gt;= 1200</span>
00023 <span class="preprocessor"></span><span class="preprocessor">#pragma warning(push)</span>
00024 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00025 <span class="preprocessor"></span><span class="preprocessor">#pragma warning(disable:4201) // anonymous unions warning</span>
00026 <span class="preprocessor"></span><span class="preprocessor">#if defined(_X86_) || defined(_IA64)</span>
00027 <span class="preprocessor"></span><span class="preprocessor">#pragma pack(4)</span>
00028 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00029 <span class="preprocessor"></span>
00030 <span class="comment">// D3DCOLOR is equivalent to D3DFMT_A8R8G8B8</span>
00031 <span class="preprocessor">#ifndef D3DCOLOR_DEFINED</span>
00032 <span class="preprocessor"></span><span class="keyword">typedef</span> DWORD D3DCOLOR;
00033 <span class="preprocessor">#define D3DCOLOR_DEFINED</span>
00034 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00035 <span class="preprocessor"></span>
00036 <span class="comment">// maps unsigned 8 bits/channel to D3DCOLOR</span>
00037 <span class="preprocessor">#define D3DCOLOR_ARGB(a,r,g,b) \</span>
00038 <span class="preprocessor">    ((D3DCOLOR)((((a)&amp;0xff)&lt;&lt;24)|(((r)&amp;0xff)&lt;&lt;16)|(((g)&amp;0xff)&lt;&lt;8)|((b)&amp;0xff)))</span>
00039 <span class="preprocessor"></span><span class="preprocessor">#define D3DCOLOR_RGBA(r,g,b,a) D3DCOLOR_ARGB(a,r,g,b)</span>
00040 <span class="preprocessor"></span><span class="preprocessor">#define D3DCOLOR_XRGB(r,g,b)   D3DCOLOR_ARGB(0xff,r,g,b)</span>
00041 <span class="preprocessor"></span>
00042 <span class="preprocessor">#define D3DCOLOR_XYUV(y,u,v)   D3DCOLOR_ARGB(0xff,y,u,v)</span>
00043 <span class="preprocessor"></span><span class="preprocessor">#define D3DCOLOR_AYUV(a,y,u,v) D3DCOLOR_ARGB(a,y,u,v)</span>
00044 <span class="preprocessor"></span>
00045 <span class="comment">// maps floating point channels (0.f to 1.f range) to D3DCOLOR</span>
00046 <span class="preprocessor">#define D3DCOLOR_COLORVALUE(r,g,b,a) \</span>
00047 <span class="preprocessor">    D3DCOLOR_RGBA((DWORD)((r)*255.f),(DWORD)((g)*255.f),(DWORD)((b)*255.f),(DWORD)((a)*255.f))</span>
00048 <span class="preprocessor"></span>
00049 
00050 <span class="preprocessor">#ifndef D3DVECTOR_DEFINED</span>
00051 <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DVECTOR {
00052     <span class="keywordtype">float</span> x;
00053     <span class="keywordtype">float</span> y;
00054     <span class="keywordtype">float</span> z;
00055 } D3DVECTOR;
00056 <span class="preprocessor">#define D3DVECTOR_DEFINED</span>
00057 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00058 <span class="preprocessor"></span>
00059 <span class="preprocessor">#ifndef D3DCOLORVALUE_DEFINED</span>
00060 <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DCOLORVALUE {
00061     <span class="keywordtype">float</span> r;
00062     <span class="keywordtype">float</span> g;
00063     <span class="keywordtype">float</span> b;
00064     <span class="keywordtype">float</span> a;
00065 } D3DCOLORVALUE;
00066 <span class="preprocessor">#define D3DCOLORVALUE_DEFINED</span>
00067 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00068 <span class="preprocessor"></span>
00069 <span class="preprocessor">#ifndef D3DRECT_DEFINED</span>
00070 <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DRECT {
00071     LONG x1;
00072     LONG y1;
00073     LONG x2;
00074     LONG y2;
00075 } D3DRECT;
00076 <span class="preprocessor">#define D3DRECT_DEFINED</span>
00077 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00078 <span class="preprocessor"></span>
00079 <span class="preprocessor">#ifndef D3DMATRIX_DEFINED</span>
00080 <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DMATRIX {
00081     <span class="keyword">union </span>{
00082         <span class="keyword">struct </span>{
00083             <span class="keywordtype">float</span>        _11, _12, _13, _14;
00084             <span class="keywordtype">float</span>        _21, _22, _23, _24;
00085             <span class="keywordtype">float</span>        _31, _32, _33, _34;
00086             <span class="keywordtype">float</span>        _41, _42, _43, _44;
00087 
00088         };
00089         <span class="keywordtype">float</span> m[4][4];
00090     };
00091 } D3DMATRIX;
00092 <span class="preprocessor">#define D3DMATRIX_DEFINED</span>
00093 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00094 <span class="preprocessor"></span>
00095 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DVIEWPORT9 {
00096     DWORD       X;
00097     DWORD       Y;            <span class="comment">/* Viewport Top left */</span>
00098     DWORD       Width;
00099     DWORD       Height;       <span class="comment">/* Viewport Dimensions */</span>
00100     <span class="keywordtype">float</span>       MinZ;         <span class="comment">/* Min/max of clip Volume */</span>
00101     <span class="keywordtype">float</span>       MaxZ;
00102 } D3DVIEWPORT9;
00103 
00104 <span class="comment">/*</span>
00105 <span class="comment"> * Values for clip fields.</span>
00106 <span class="comment"> */</span>
00107 
00108 <span class="comment">// Max number of user clipping planes, supported in D3D.</span>
00109 <span class="preprocessor">#define D3DMAXUSERCLIPPLANES 32</span>
00110 <span class="preprocessor"></span>
00111 <span class="comment">// These bits could be ORed together to use with D3DRS_CLIPPLANEENABLE</span>
00112 <span class="comment">//</span>
00113 <span class="preprocessor">#define D3DCLIPPLANE0 (1 &lt;&lt; 0)</span>
00114 <span class="preprocessor"></span><span class="preprocessor">#define D3DCLIPPLANE1 (1 &lt;&lt; 1)</span>
00115 <span class="preprocessor"></span><span class="preprocessor">#define D3DCLIPPLANE2 (1 &lt;&lt; 2)</span>
00116 <span class="preprocessor"></span><span class="preprocessor">#define D3DCLIPPLANE3 (1 &lt;&lt; 3)</span>
00117 <span class="preprocessor"></span><span class="preprocessor">#define D3DCLIPPLANE4 (1 &lt;&lt; 4)</span>
00118 <span class="preprocessor"></span><span class="preprocessor">#define D3DCLIPPLANE5 (1 &lt;&lt; 5)</span>
00119 <span class="preprocessor"></span>
00120 <span class="comment">// The following bits are used in the ClipUnion and ClipIntersection</span>
00121 <span class="comment">// members of the D3DCLIPSTATUS9</span>
00122 <span class="comment">//</span>
00123 
00124 <span class="preprocessor">#define D3DCS_LEFT        0x00000001L</span>
00125 <span class="preprocessor"></span><span class="preprocessor">#define D3DCS_RIGHT       0x00000002L</span>
00126 <span class="preprocessor"></span><span class="preprocessor">#define D3DCS_TOP         0x00000004L</span>
00127 <span class="preprocessor"></span><span class="preprocessor">#define D3DCS_BOTTOM      0x00000008L</span>
00128 <span class="preprocessor"></span><span class="preprocessor">#define D3DCS_FRONT       0x00000010L</span>
00129 <span class="preprocessor"></span><span class="preprocessor">#define D3DCS_BACK        0x00000020L</span>
00130 <span class="preprocessor"></span><span class="preprocessor">#define D3DCS_PLANE0      0x00000040L</span>
00131 <span class="preprocessor"></span><span class="preprocessor">#define D3DCS_PLANE1      0x00000080L</span>
00132 <span class="preprocessor"></span><span class="preprocessor">#define D3DCS_PLANE2      0x00000100L</span>
00133 <span class="preprocessor"></span><span class="preprocessor">#define D3DCS_PLANE3      0x00000200L</span>
00134 <span class="preprocessor"></span><span class="preprocessor">#define D3DCS_PLANE4      0x00000400L</span>
00135 <span class="preprocessor"></span><span class="preprocessor">#define D3DCS_PLANE5      0x00000800L</span>
00136 <span class="preprocessor"></span>
00137 <span class="preprocessor">#define D3DCS_ALL (D3DCS_LEFT   | \</span>
00138 <span class="preprocessor">                   D3DCS_RIGHT  | \</span>
00139 <span class="preprocessor">                   D3DCS_TOP    | \</span>
00140 <span class="preprocessor">                   D3DCS_BOTTOM | \</span>
00141 <span class="preprocessor">                   D3DCS_FRONT  | \</span>
00142 <span class="preprocessor">                   D3DCS_BACK   | \</span>
00143 <span class="preprocessor">                   D3DCS_PLANE0 | \</span>
00144 <span class="preprocessor">                   D3DCS_PLANE1 | \</span>
00145 <span class="preprocessor">                   D3DCS_PLANE2 | \</span>
00146 <span class="preprocessor">                   D3DCS_PLANE3 | \</span>
00147 <span class="preprocessor">                   D3DCS_PLANE4 | \</span>
00148 <span class="preprocessor">                   D3DCS_PLANE5)</span>
00149 <span class="preprocessor"></span>
00150 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DCLIPSTATUS9 {
00151     DWORD ClipUnion;
00152     DWORD ClipIntersection;
00153 } D3DCLIPSTATUS9;
00154 
00155 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DMATERIAL9 {
00156     D3DCOLORVALUE   Diffuse;        <span class="comment">/* Diffuse color RGBA */</span>
00157     D3DCOLORVALUE   Ambient;        <span class="comment">/* Ambient color RGB */</span>
00158     D3DCOLORVALUE   Specular;       <span class="comment">/* Specular 'shininess' */</span>
00159     D3DCOLORVALUE   Emissive;       <span class="comment">/* Emissive color RGB */</span>
00160     <span class="keywordtype">float</span>           Power;          <span class="comment">/* Sharpness if specular highlight */</span>
00161 } D3DMATERIAL9;
00162 
00163 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DLIGHTTYPE {
00164     D3DLIGHT_POINT          = 1,
00165     D3DLIGHT_SPOT           = 2,
00166     D3DLIGHT_DIRECTIONAL    = 3,
00167     D3DLIGHT_FORCE_DWORD    = 0x7fffffff, <span class="comment">/* force 32-bit size enum */</span>
00168 } D3DLIGHTTYPE;
00169 
00170 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DLIGHT9 {
00171     D3DLIGHTTYPE    Type;            <span class="comment">/* Type of light source */</span>
00172     D3DCOLORVALUE   Diffuse;         <span class="comment">/* Diffuse color of light */</span>
00173     D3DCOLORVALUE   Specular;        <span class="comment">/* Specular color of light */</span>
00174     D3DCOLORVALUE   Ambient;         <span class="comment">/* Ambient color of light */</span>
00175     D3DVECTOR       Position;         <span class="comment">/* Position in world space */</span>
00176     D3DVECTOR       Direction;        <span class="comment">/* Direction in world space */</span>
00177     <span class="keywordtype">float</span>           Range;            <span class="comment">/* Cutoff range */</span>
00178     <span class="keywordtype">float</span>           Falloff;          <span class="comment">/* Falloff */</span>
00179     <span class="keywordtype">float</span>           Attenuation0;     <span class="comment">/* Constant attenuation */</span>
00180     <span class="keywordtype">float</span>           Attenuation1;     <span class="comment">/* Linear attenuation */</span>
00181     <span class="keywordtype">float</span>           Attenuation2;     <span class="comment">/* Quadratic attenuation */</span>
00182     <span class="keywordtype">float</span>           Theta;            <span class="comment">/* Inner angle of spotlight cone */</span>
00183     <span class="keywordtype">float</span>           Phi;              <span class="comment">/* Outer angle of spotlight cone */</span>
00184 } D3DLIGHT9;
00185 
00186 <span class="comment">/*</span>
00187 <span class="comment"> * Options for clearing</span>
00188 <span class="comment"> */</span>
00189 <span class="preprocessor">#define D3DCLEAR_TARGET            0x00000001l  </span><span class="comment">/* Clear target surface */</span>
00190 <span class="preprocessor">#define D3DCLEAR_ZBUFFER           0x00000002l  </span><span class="comment">/* Clear target z buffer */</span>
00191 <span class="preprocessor">#define D3DCLEAR_STENCIL           0x00000004l  </span><span class="comment">/* Clear stencil planes */</span>
00192 
00193 <span class="comment">/*</span>
00194 <span class="comment"> * The following defines the rendering states</span>
00195 <span class="comment"> */</span>
00196 
00197 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DSHADEMODE {
00198     D3DSHADE_FLAT               = 1,
00199     D3DSHADE_GOURAUD            = 2,
00200     D3DSHADE_PHONG              = 3,
00201     D3DSHADE_FORCE_DWORD        = 0x7fffffff, <span class="comment">/* force 32-bit size enum */</span>
00202 } D3DSHADEMODE;
00203 
00204 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DFILLMODE {
00205     D3DFILL_POINT               = 1,
00206     D3DFILL_WIREFRAME           = 2,
00207     D3DFILL_SOLID               = 3,
00208     D3DFILL_FORCE_DWORD         = 0x7fffffff, <span class="comment">/* force 32-bit size enum */</span>
00209 } D3DFILLMODE;
00210 
00211 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DBLEND {
00212     D3DBLEND_ZERO               = 1,
00213     D3DBLEND_ONE                = 2,
00214     D3DBLEND_SRCCOLOR           = 3,
00215     D3DBLEND_INVSRCCOLOR        = 4,
00216     D3DBLEND_SRCALPHA           = 5,
00217     D3DBLEND_INVSRCALPHA        = 6,
00218     D3DBLEND_DESTALPHA          = 7,
00219     D3DBLEND_INVDESTALPHA       = 8,
00220     D3DBLEND_DESTCOLOR          = 9,
00221     D3DBLEND_INVDESTCOLOR       = 10,
00222     D3DBLEND_SRCALPHASAT        = 11,
00223     D3DBLEND_BOTHSRCALPHA       = 12,
00224     D3DBLEND_BOTHINVSRCALPHA    = 13,
00225     D3DBLEND_BLENDFACTOR        = 14, <span class="comment">/* Only supported if D3DPBLENDCAPS_BLENDFACTOR is on */</span>
00226     D3DBLEND_INVBLENDFACTOR     = 15, <span class="comment">/* Only supported if D3DPBLENDCAPS_BLENDFACTOR is on */</span>
00227     D3DBLEND_FORCE_DWORD        = 0x7fffffff, <span class="comment">/* force 32-bit size enum */</span>
00228 } D3DBLEND;
00229 
00230 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DBLENDOP {
00231     D3DBLENDOP_ADD              = 1,
00232     D3DBLENDOP_SUBTRACT         = 2,
00233     D3DBLENDOP_REVSUBTRACT      = 3,
00234     D3DBLENDOP_MIN              = 4,
00235     D3DBLENDOP_MAX              = 5,
00236     D3DBLENDOP_FORCE_DWORD      = 0x7fffffff, <span class="comment">/* force 32-bit size enum */</span>
00237 } D3DBLENDOP;
00238 
00239 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DTEXTUREADDRESS {
00240     D3DTADDRESS_WRAP            = 1,
00241     D3DTADDRESS_MIRROR          = 2,
00242     D3DTADDRESS_CLAMP           = 3,
00243     D3DTADDRESS_BORDER          = 4,
00244     D3DTADDRESS_MIRRORONCE      = 5,
00245     D3DTADDRESS_FORCE_DWORD     = 0x7fffffff, <span class="comment">/* force 32-bit size enum */</span>
00246 } D3DTEXTUREADDRESS;
00247 
00248 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DCULL {
00249     D3DCULL_NONE                = 1,
00250     D3DCULL_CW                  = 2,
00251     D3DCULL_CCW                 = 3,
00252     D3DCULL_FORCE_DWORD         = 0x7fffffff, <span class="comment">/* force 32-bit size enum */</span>
00253 } D3DCULL;
00254 
00255 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DCMPFUNC {
00256     D3DCMP_NEVER                = 1,
00257     D3DCMP_LESS                 = 2,
00258     D3DCMP_EQUAL                = 3,
00259     D3DCMP_LESSEQUAL            = 4,
00260     D3DCMP_GREATER              = 5,
00261     D3DCMP_NOTEQUAL             = 6,
00262     D3DCMP_GREATEREQUAL         = 7,
00263     D3DCMP_ALWAYS               = 8,
00264     D3DCMP_FORCE_DWORD          = 0x7fffffff, <span class="comment">/* force 32-bit size enum */</span>
00265 } D3DCMPFUNC;
00266 
00267 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DSTENCILOP {
00268     D3DSTENCILOP_KEEP           = 1,
00269     D3DSTENCILOP_ZERO           = 2,
00270     D3DSTENCILOP_REPLACE        = 3,
00271     D3DSTENCILOP_INCRSAT        = 4,
00272     D3DSTENCILOP_DECRSAT        = 5,
00273     D3DSTENCILOP_INVERT         = 6,
00274     D3DSTENCILOP_INCR           = 7,
00275     D3DSTENCILOP_DECR           = 8,
00276     D3DSTENCILOP_FORCE_DWORD    = 0x7fffffff, <span class="comment">/* force 32-bit size enum */</span>
00277 } D3DSTENCILOP;
00278 
00279 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DFOGMODE {
00280     D3DFOG_NONE                 = 0,
00281     D3DFOG_EXP                  = 1,
00282     D3DFOG_EXP2                 = 2,
00283     D3DFOG_LINEAR               = 3,
00284     D3DFOG_FORCE_DWORD          = 0x7fffffff, <span class="comment">/* force 32-bit size enum */</span>
00285 } D3DFOGMODE;
00286 
00287 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DZBUFFERTYPE {
00288     D3DZB_FALSE                 = 0,
00289     D3DZB_TRUE                  = 1, <span class="comment">// Z buffering</span>
00290     D3DZB_USEW                  = 2, <span class="comment">// W buffering</span>
00291     D3DZB_FORCE_DWORD           = 0x7fffffff, <span class="comment">/* force 32-bit size enum */</span>
00292 } D3DZBUFFERTYPE;
00293 
00294 <span class="comment">// Primitives supported by draw-primitive API</span>
00295 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DPRIMITIVETYPE {
00296     D3DPT_POINTLIST             = 1,
00297     D3DPT_LINELIST              = 2,
00298     D3DPT_LINESTRIP             = 3,
00299     D3DPT_TRIANGLELIST          = 4,
00300     D3DPT_TRIANGLESTRIP         = 5,
00301     D3DPT_TRIANGLEFAN           = 6,
00302     D3DPT_FORCE_DWORD           = 0x7fffffff, <span class="comment">/* force 32-bit size enum */</span>
00303 } D3DPRIMITIVETYPE;
00304 
00305 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DTRANSFORMSTATETYPE {
00306     D3DTS_VIEW          = 2,
00307     D3DTS_PROJECTION    = 3,
00308     D3DTS_TEXTURE0      = 16,
00309     D3DTS_TEXTURE1      = 17,
00310     D3DTS_TEXTURE2      = 18,
00311     D3DTS_TEXTURE3      = 19,
00312     D3DTS_TEXTURE4      = 20,
00313     D3DTS_TEXTURE5      = 21,
00314     D3DTS_TEXTURE6      = 22,
00315     D3DTS_TEXTURE7      = 23,
00316     D3DTS_FORCE_DWORD     = 0x7fffffff, <span class="comment">/* force 32-bit size enum */</span>
00317 } D3DTRANSFORMSTATETYPE;
00318 
00319 <span class="preprocessor">#define D3DTS_WORLDMATRIX(index) (D3DTRANSFORMSTATETYPE)(index + 256)</span>
00320 <span class="preprocessor"></span><span class="preprocessor">#define D3DTS_WORLD  D3DTS_WORLDMATRIX(0)</span>
00321 <span class="preprocessor"></span><span class="preprocessor">#define D3DTS_WORLD1 D3DTS_WORLDMATRIX(1)</span>
00322 <span class="preprocessor"></span><span class="preprocessor">#define D3DTS_WORLD2 D3DTS_WORLDMATRIX(2)</span>
00323 <span class="preprocessor"></span><span class="preprocessor">#define D3DTS_WORLD3 D3DTS_WORLDMATRIX(3)</span>
00324 <span class="preprocessor"></span>
00325 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DRENDERSTATETYPE {
00326     D3DRS_ZENABLE                   = 7,    <span class="comment">/* D3DZBUFFERTYPE (or TRUE/FALSE for legacy) */</span>
00327     D3DRS_FILLMODE                  = 8,    <span class="comment">/* D3DFILLMODE */</span>
00328     D3DRS_SHADEMODE                 = 9,    <span class="comment">/* D3DSHADEMODE */</span>
00329     D3DRS_ZWRITEENABLE              = 14,   <span class="comment">/* TRUE to enable z writes */</span>
00330     D3DRS_ALPHATESTENABLE           = 15,   <span class="comment">/* TRUE to enable alpha tests */</span>
00331     D3DRS_LASTPIXEL                 = 16,   <span class="comment">/* TRUE for last-pixel on lines */</span>
00332     D3DRS_SRCBLEND                  = 19,   <span class="comment">/* D3DBLEND */</span>
00333     D3DRS_DESTBLEND                 = 20,   <span class="comment">/* D3DBLEND */</span>
00334     D3DRS_CULLMODE                  = 22,   <span class="comment">/* D3DCULL */</span>
00335     D3DRS_ZFUNC                     = 23,   <span class="comment">/* D3DCMPFUNC */</span>
00336     D3DRS_ALPHAREF                  = 24,   <span class="comment">/* D3DFIXED */</span>
00337     D3DRS_ALPHAFUNC                 = 25,   <span class="comment">/* D3DCMPFUNC */</span>
00338     D3DRS_DITHERENABLE              = 26,   <span class="comment">/* TRUE to enable dithering */</span>
00339     D3DRS_ALPHABLENDENABLE          = 27,   <span class="comment">/* TRUE to enable alpha blending */</span>
00340     D3DRS_FOGENABLE                 = 28,   <span class="comment">/* TRUE to enable fog blending */</span>
00341     D3DRS_SPECULARENABLE            = 29,   <span class="comment">/* TRUE to enable specular */</span>
00342     D3DRS_FOGCOLOR                  = 34,   <span class="comment">/* D3DCOLOR */</span>
00343     D3DRS_FOGTABLEMODE              = 35,   <span class="comment">/* D3DFOGMODE */</span>
00344     D3DRS_FOGSTART                  = 36,   <span class="comment">/* Fog start (for both vertex and pixel fog) */</span>
00345     D3DRS_FOGEND                    = 37,   <span class="comment">/* Fog end      */</span>
00346     D3DRS_FOGDENSITY                = 38,   <span class="comment">/* Fog density  */</span>
00347     D3DRS_RANGEFOGENABLE            = 48,   <span class="comment">/* Enables range-based fog */</span>
00348     D3DRS_STENCILENABLE             = 52,   <span class="comment">/* BOOL enable/disable stenciling */</span>
00349     D3DRS_STENCILFAIL               = 53,   <span class="comment">/* D3DSTENCILOP to do if stencil test fails */</span>
00350     D3DRS_STENCILZFAIL              = 54,   <span class="comment">/* D3DSTENCILOP to do if stencil test passes and Z test fails */</span>
00351     D3DRS_STENCILPASS               = 55,   <span class="comment">/* D3DSTENCILOP to do if both stencil and Z tests pass */</span>
00352     D3DRS_STENCILFUNC               = 56,   <span class="comment">/* D3DCMPFUNC fn.  Stencil Test passes if ((ref &amp; mask) stencilfn (stencil &amp; mask)) is true */</span>
00353     D3DRS_STENCILREF                = 57,   <span class="comment">/* Reference value used in stencil test */</span>
00354     D3DRS_STENCILMASK               = 58,   <span class="comment">/* Mask value used in stencil test */</span>
00355     D3DRS_STENCILWRITEMASK          = 59,   <span class="comment">/* Write mask applied to values written to stencil buffer */</span>
00356     D3DRS_TEXTUREFACTOR             = 60,   <span class="comment">/* D3DCOLOR used for multi-texture blend */</span>
00357     D3DRS_WRAP0                     = 128,  <span class="comment">/* wrap for 1st texture coord. set */</span>
00358     D3DRS_WRAP1                     = 129,  <span class="comment">/* wrap for 2nd texture coord. set */</span>
00359     D3DRS_WRAP2                     = 130,  <span class="comment">/* wrap for 3rd texture coord. set */</span>
00360     D3DRS_WRAP3                     = 131,  <span class="comment">/* wrap for 4th texture coord. set */</span>
00361     D3DRS_WRAP4                     = 132,  <span class="comment">/* wrap for 5th texture coord. set */</span>
00362     D3DRS_WRAP5                     = 133,  <span class="comment">/* wrap for 6th texture coord. set */</span>
00363     D3DRS_WRAP6                     = 134,  <span class="comment">/* wrap for 7th texture coord. set */</span>
00364     D3DRS_WRAP7                     = 135,  <span class="comment">/* wrap for 8th texture coord. set */</span>
00365     D3DRS_CLIPPING                  = 136,
00366     D3DRS_LIGHTING                  = 137,
00367     D3DRS_AMBIENT                   = 139,
00368     D3DRS_FOGVERTEXMODE             = 140,
00369     D3DRS_COLORVERTEX               = 141,
00370     D3DRS_LOCALVIEWER               = 142,
00371     D3DRS_NORMALIZENORMALS          = 143,
00372     D3DRS_DIFFUSEMATERIALSOURCE     = 145,
00373     D3DRS_SPECULARMATERIALSOURCE    = 146,
00374     D3DRS_AMBIENTMATERIALSOURCE     = 147,
00375     D3DRS_EMISSIVEMATERIALSOURCE    = 148,
00376     D3DRS_VERTEXBLEND               = 151,
00377     D3DRS_CLIPPLANEENABLE           = 152,
00378     D3DRS_POINTSIZE                 = 154,   <span class="comment">/* float point size */</span>
00379     D3DRS_POINTSIZE_MIN             = 155,   <span class="comment">/* float point size min threshold */</span>
00380     D3DRS_POINTSPRITEENABLE         = 156,   <span class="comment">/* BOOL point texture coord control */</span>
00381     D3DRS_POINTSCALEENABLE          = 157,   <span class="comment">/* BOOL point size scale enable */</span>
00382     D3DRS_POINTSCALE_A              = 158,   <span class="comment">/* float point attenuation A value */</span>
00383     D3DRS_POINTSCALE_B              = 159,   <span class="comment">/* float point attenuation B value */</span>
00384     D3DRS_POINTSCALE_C              = 160,   <span class="comment">/* float point attenuation C value */</span>
00385     D3DRS_MULTISAMPLEANTIALIAS      = 161,  <span class="comment">// BOOL - set to do FSAA with multisample buffer</span>
00386     D3DRS_MULTISAMPLEMASK           = 162,  <span class="comment">// DWORD - per-sample enable/disable</span>
00387     D3DRS_PATCHEDGESTYLE            = 163,  <span class="comment">// Sets whether patch edges will use float style tessellation</span>
00388     D3DRS_DEBUGMONITORTOKEN         = 165,  <span class="comment">// DEBUG ONLY - token to debug monitor</span>
00389     D3DRS_POINTSIZE_MAX             = 166,   <span class="comment">/* float point size max threshold */</span>
00390     D3DRS_INDEXEDVERTEXBLENDENABLE  = 167,
00391     D3DRS_COLORWRITEENABLE          = 168,  <span class="comment">// per-channel write enable</span>
00392     D3DRS_TWEENFACTOR               = 170,   <span class="comment">// float tween factor</span>
00393     D3DRS_BLENDOP                   = 171,   <span class="comment">// D3DBLENDOP setting</span>
00394     D3DRS_POSITIONDEGREE            = 172,   <span class="comment">// NPatch position interpolation degree. D3DDEGREE_LINEAR or D3DDEGREE_CUBIC (default)</span>
00395     D3DRS_NORMALDEGREE              = 173,   <span class="comment">// NPatch normal interpolation degree. D3DDEGREE_LINEAR (default) or D3DDEGREE_QUADRATIC</span>
00396     D3DRS_SCISSORTESTENABLE         = 174,
00397     D3DRS_SLOPESCALEDEPTHBIAS       = 175,
00398     D3DRS_ANTIALIASEDLINEENABLE     = 176,
00399     D3DRS_MINTESSELLATIONLEVEL      = 178,
00400     D3DRS_MAXTESSELLATIONLEVEL      = 179,
00401     D3DRS_ADAPTIVETESS_X            = 180,
00402     D3DRS_ADAPTIVETESS_Y            = 181,
00403     D3DRS_ADAPTIVETESS_Z            = 182,
00404     D3DRS_ADAPTIVETESS_W            = 183,
00405     D3DRS_ENABLEADAPTIVETESSELLATION = 184,
00406     D3DRS_TWOSIDEDSTENCILMODE       = 185,   <span class="comment">/* BOOL enable/disable 2 sided stenciling */</span>
00407     D3DRS_CCW_STENCILFAIL           = 186,   <span class="comment">/* D3DSTENCILOP to do if ccw stencil test fails */</span>
00408     D3DRS_CCW_STENCILZFAIL          = 187,   <span class="comment">/* D3DSTENCILOP to do if ccw stencil test passes and Z test fails */</span>
00409     D3DRS_CCW_STENCILPASS           = 188,   <span class="comment">/* D3DSTENCILOP to do if both ccw stencil and Z tests pass */</span>
00410     D3DRS_CCW_STENCILFUNC           = 189,   <span class="comment">/* D3DCMPFUNC fn.  ccw Stencil Test passes if ((ref &amp; mask) stencilfn (stencil &amp; mask)) is true */</span>
00411     D3DRS_COLORWRITEENABLE1         = 190,   <span class="comment">/* Additional ColorWriteEnables for the devices that support D3DPMISCCAPS_INDEPENDENTWRITEMASKS */</span>
00412     D3DRS_COLORWRITEENABLE2         = 191,   <span class="comment">/* Additional ColorWriteEnables for the devices that support D3DPMISCCAPS_INDEPENDENTWRITEMASKS */</span>
00413     D3DRS_COLORWRITEENABLE3         = 192,   <span class="comment">/* Additional ColorWriteEnables for the devices that support D3DPMISCCAPS_INDEPENDENTWRITEMASKS */</span>
00414     D3DRS_BLENDFACTOR               = 193,   <span class="comment">/* D3DCOLOR used for a constant blend factor during alpha blending for devices that support D3DPBLENDCAPS_BLENDFACTOR */</span>
00415     D3DRS_SRGBWRITEENABLE           = 194,   <span class="comment">/* Enable rendertarget writes to be DE-linearized to SRGB (for formats that expose D3DUSAGE_QUERY_SRGBWRITE) */</span>
00416     D3DRS_DEPTHBIAS                 = 195,
00417     D3DRS_WRAP8                     = 198,   <span class="comment">/* Additional wrap states for vs_3_0+ attributes with D3DDECLUSAGE_TEXCOORD */</span>
00418     D3DRS_WRAP9                     = 199,
00419     D3DRS_WRAP10                    = 200,
00420     D3DRS_WRAP11                    = 201,
00421     D3DRS_WRAP12                    = 202,
00422     D3DRS_WRAP13                    = 203,
00423     D3DRS_WRAP14                    = 204,
00424     D3DRS_WRAP15                    = 205,
00425     D3DRS_SEPARATEALPHABLENDENABLE  = 206,  <span class="comment">/* TRUE to enable a separate blending function for the alpha channel */</span>
00426     D3DRS_SRCBLENDALPHA             = 207,  <span class="comment">/* SRC blend factor for the alpha channel when D3DRS_SEPARATEDESTALPHAENABLE is TRUE */</span>
00427     D3DRS_DESTBLENDALPHA            = 208,  <span class="comment">/* DST blend factor for the alpha channel when D3DRS_SEPARATEDESTALPHAENABLE is TRUE */</span>
00428     D3DRS_BLENDOPALPHA              = 209,  <span class="comment">/* Blending operation for the alpha channel when D3DRS_SEPARATEDESTALPHAENABLE is TRUE */</span>
00429 
00430 
00431     D3DRS_FORCE_DWORD               = 0x7fffffff, <span class="comment">/* force 32-bit size enum */</span>
00432 } D3DRENDERSTATETYPE;
00433 
00434 <span class="comment">// Maximum number of simultaneous render targets D3D supports</span>
00435 <span class="preprocessor">#define D3D_MAX_SIMULTANEOUS_RENDERTARGETS 4</span>
00436 <span class="preprocessor"></span>
00437 <span class="comment">// Values for material source</span>
00438 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DMATERIALCOLORSOURCE
00439 {
00440     D3DMCS_MATERIAL         = 0,            <span class="comment">// Color from material is used</span>
00441     D3DMCS_COLOR1           = 1,            <span class="comment">// Diffuse vertex color is used</span>
00442     D3DMCS_COLOR2           = 2,            <span class="comment">// Specular vertex color is used</span>
00443     D3DMCS_FORCE_DWORD      = 0x7fffffff,   <span class="comment">// force 32-bit size enum</span>
00444 } D3DMATERIALCOLORSOURCE;
00445 
00446 <span class="comment">// Bias to apply to the texture coordinate set to apply a wrap to.</span>
00447 <span class="preprocessor">#define D3DRENDERSTATE_WRAPBIAS                 128UL</span>
00448 <span class="preprocessor"></span>
00449 <span class="comment">/* Flags to construct the WRAP render states */</span>
00450 <span class="preprocessor">#define D3DWRAP_U   0x00000001L</span>
00451 <span class="preprocessor"></span><span class="preprocessor">#define D3DWRAP_V   0x00000002L</span>
00452 <span class="preprocessor"></span><span class="preprocessor">#define D3DWRAP_W   0x00000004L</span>
00453 <span class="preprocessor"></span>
00454 <span class="comment">/* Flags to construct the WRAP render states for 1D thru 4D texture coordinates */</span>
00455 <span class="preprocessor">#define D3DWRAPCOORD_0   0x00000001L    // same as D3DWRAP_U</span>
00456 <span class="preprocessor"></span><span class="preprocessor">#define D3DWRAPCOORD_1   0x00000002L    // same as D3DWRAP_V</span>
00457 <span class="preprocessor"></span><span class="preprocessor">#define D3DWRAPCOORD_2   0x00000004L    // same as D3DWRAP_W</span>
00458 <span class="preprocessor"></span><span class="preprocessor">#define D3DWRAPCOORD_3   0x00000008L</span>
00459 <span class="preprocessor"></span>
00460 <span class="comment">/* Flags to construct D3DRS_COLORWRITEENABLE */</span>
00461 <span class="preprocessor">#define D3DCOLORWRITEENABLE_RED     (1L&lt;&lt;0)</span>
00462 <span class="preprocessor"></span><span class="preprocessor">#define D3DCOLORWRITEENABLE_GREEN   (1L&lt;&lt;1)</span>
00463 <span class="preprocessor"></span><span class="preprocessor">#define D3DCOLORWRITEENABLE_BLUE    (1L&lt;&lt;2)</span>
00464 <span class="preprocessor"></span><span class="preprocessor">#define D3DCOLORWRITEENABLE_ALPHA   (1L&lt;&lt;3)</span>
00465 <span class="preprocessor"></span>
00466 <span class="comment">/*</span>
00467 <span class="comment"> * State enumerants for per-stage processing of fixed function pixel processing</span>
00468 <span class="comment"> * Two of these affect fixed function vertex processing as well: TEXTURETRANSFORMFLAGS and TEXCOORDINDEX.</span>
00469 <span class="comment"> */</span>
00470 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DTEXTURESTAGESTATETYPE
00471 {
00472     D3DTSS_COLOROP        =  1, <span class="comment">/* D3DTEXTUREOP - per-stage blending controls for color channels */</span>
00473     D3DTSS_COLORARG1      =  2, <span class="comment">/* D3DTA_* (texture arg) */</span>
00474     D3DTSS_COLORARG2      =  3, <span class="comment">/* D3DTA_* (texture arg) */</span>
00475     D3DTSS_ALPHAOP        =  4, <span class="comment">/* D3DTEXTUREOP - per-stage blending controls for alpha channel */</span>
00476     D3DTSS_ALPHAARG1      =  5, <span class="comment">/* D3DTA_* (texture arg) */</span>
00477     D3DTSS_ALPHAARG2      =  6, <span class="comment">/* D3DTA_* (texture arg) */</span>
00478     D3DTSS_BUMPENVMAT00   =  7, <span class="comment">/* float (bump mapping matrix) */</span>
00479     D3DTSS_BUMPENVMAT01   =  8, <span class="comment">/* float (bump mapping matrix) */</span>
00480     D3DTSS_BUMPENVMAT10   =  9, <span class="comment">/* float (bump mapping matrix) */</span>
00481     D3DTSS_BUMPENVMAT11   = 10, <span class="comment">/* float (bump mapping matrix) */</span>
00482     D3DTSS_TEXCOORDINDEX  = 11, <span class="comment">/* identifies which set of texture coordinates index this texture */</span>
00483     D3DTSS_BUMPENVLSCALE  = 22, <span class="comment">/* float scale for bump map luminance */</span>
00484     D3DTSS_BUMPENVLOFFSET = 23, <span class="comment">/* float offset for bump map luminance */</span>
00485     D3DTSS_TEXTURETRANSFORMFLAGS = 24, <span class="comment">/* D3DTEXTURETRANSFORMFLAGS controls texture transform */</span>
00486     D3DTSS_COLORARG0      = 26, <span class="comment">/* D3DTA_* third arg for triadic ops */</span>
00487     D3DTSS_ALPHAARG0      = 27, <span class="comment">/* D3DTA_* third arg for triadic ops */</span>
00488     D3DTSS_RESULTARG      = 28, <span class="comment">/* D3DTA_* arg for result (CURRENT or TEMP) */</span>
00489     D3DTSS_CONSTANT       = 32, <span class="comment">/* Per-stage constant D3DTA_CONSTANT */</span>
00490 
00491 
00492     D3DTSS_FORCE_DWORD   = 0x7fffffff, <span class="comment">/* force 32-bit size enum */</span>
00493 } D3DTEXTURESTAGESTATETYPE;
00494 
00495 <span class="comment">/*</span>
00496 <span class="comment"> * State enumerants for per-sampler texture processing.</span>
00497 <span class="comment"> */</span>
00498 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DSAMPLERSTATETYPE
00499 {
00500     D3DSAMP_ADDRESSU       = 1,  <span class="comment">/* D3DTEXTUREADDRESS for U coordinate */</span>
00501     D3DSAMP_ADDRESSV       = 2,  <span class="comment">/* D3DTEXTUREADDRESS for V coordinate */</span>
00502     D3DSAMP_ADDRESSW       = 3,  <span class="comment">/* D3DTEXTUREADDRESS for W coordinate */</span>
00503     D3DSAMP_BORDERCOLOR    = 4,  <span class="comment">/* D3DCOLOR */</span>
00504     D3DSAMP_MAGFILTER      = 5,  <span class="comment">/* D3DTEXTUREFILTER filter to use for magnification */</span>
00505     D3DSAMP_MINFILTER      = 6,  <span class="comment">/* D3DTEXTUREFILTER filter to use for minification */</span>
00506     D3DSAMP_MIPFILTER      = 7,  <span class="comment">/* D3DTEXTUREFILTER filter to use between mipmaps during minification */</span>
00507     D3DSAMP_MIPMAPLODBIAS  = 8,  <span class="comment">/* float Mipmap LOD bias */</span>
00508     D3DSAMP_MAXMIPLEVEL    = 9,  <span class="comment">/* DWORD 0..(n-1) LOD index of largest map to use (0 == largest) */</span>
00509     D3DSAMP_MAXANISOTROPY  = 10, <span class="comment">/* DWORD maximum anisotropy */</span>
00510     D3DSAMP_SRGBTEXTURE    = 11, <span class="comment">/* Default = 0 (which means Gamma 1.0,</span>
00511 <span class="comment">                                   no correction required.) else correct for</span>
00512 <span class="comment">                                   Gamma = 2.2 */</span>
00513     D3DSAMP_ELEMENTINDEX   = 12, <span class="comment">/* When multi-element texture is assigned to sampler, this</span>
00514 <span class="comment">                                    indicates which element index to use.  Default = 0.  */</span>
00515     D3DSAMP_DMAPOFFSET     = 13, <span class="comment">/* Offset in vertices in the pre-sampled displacement map.</span>
00516 <span class="comment">                                    Only valid for D3DDMAPSAMPLER sampler  */</span>
00517     D3DSAMP_FORCE_DWORD   = 0x7fffffff, <span class="comment">/* force 32-bit size enum */</span>
00518 } D3DSAMPLERSTATETYPE;
00519 
00520 <span class="comment">/* Special sampler which is used in the tesselator */</span>
00521 <span class="preprocessor">#define D3DDMAPSAMPLER 256</span>
00522 <span class="preprocessor"></span>
00523 <span class="comment">// Samplers used in vertex shaders</span>
00524 <span class="preprocessor">#define D3DVERTEXTEXTURESAMPLER0 (D3DDMAPSAMPLER+1)</span>
00525 <span class="preprocessor"></span><span class="preprocessor">#define D3DVERTEXTEXTURESAMPLER1 (D3DDMAPSAMPLER+2)</span>
00526 <span class="preprocessor"></span><span class="preprocessor">#define D3DVERTEXTEXTURESAMPLER2 (D3DDMAPSAMPLER+3)</span>
00527 <span class="preprocessor"></span><span class="preprocessor">#define D3DVERTEXTEXTURESAMPLER3 (D3DDMAPSAMPLER+4)</span>
00528 <span class="preprocessor"></span>
00529 <span class="comment">// Values, used with D3DTSS_TEXCOORDINDEX, to specify that the vertex data(position</span>
00530 <span class="comment">// and normal in the camera space) should be taken as texture coordinates</span>
00531 <span class="comment">// Low 16 bits are used to specify texture coordinate index, to take the WRAP mode from</span>
00532 <span class="comment">//</span>
00533 <span class="preprocessor">#define D3DTSS_TCI_PASSTHRU                             0x00000000</span>
00534 <span class="preprocessor"></span><span class="preprocessor">#define D3DTSS_TCI_CAMERASPACENORMAL                    0x00010000</span>
00535 <span class="preprocessor"></span><span class="preprocessor">#define D3DTSS_TCI_CAMERASPACEPOSITION                  0x00020000</span>
00536 <span class="preprocessor"></span><span class="preprocessor">#define D3DTSS_TCI_CAMERASPACEREFLECTIONVECTOR          0x00030000</span>
00537 <span class="preprocessor"></span><span class="preprocessor">#define D3DTSS_TCI_SPHEREMAP                            0x00040000</span>
00538 <span class="preprocessor"></span>
00539 <span class="comment">/*</span>
00540 <span class="comment"> * Enumerations for COLOROP and ALPHAOP texture blending operations set in</span>
00541 <span class="comment"> * texture processing stage controls in D3DTSS.</span>
00542 <span class="comment"> */</span>
00543 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DTEXTUREOP
00544 {
00545     <span class="comment">// Control</span>
00546     D3DTOP_DISABLE              = 1,      <span class="comment">// disables stage</span>
00547     D3DTOP_SELECTARG1           = 2,      <span class="comment">// the default</span>
00548     D3DTOP_SELECTARG2           = 3,
00549 
00550     <span class="comment">// Modulate</span>
00551     D3DTOP_MODULATE             = 4,      <span class="comment">// multiply args together</span>
00552     D3DTOP_MODULATE2X           = 5,      <span class="comment">// multiply and  1 bit</span>
00553     D3DTOP_MODULATE4X           = 6,      <span class="comment">// multiply and  2 bits</span>
00554 
00555     <span class="comment">// Add</span>
00556     D3DTOP_ADD                  =  7,   <span class="comment">// add arguments together</span>
00557     D3DTOP_ADDSIGNED            =  8,   <span class="comment">// add with -0.5 bias</span>
00558     D3DTOP_ADDSIGNED2X          =  9,   <span class="comment">// as above but left  1 bit</span>
00559     D3DTOP_SUBTRACT             = 10,   <span class="comment">// Arg1 - Arg2, with no saturation</span>
00560     D3DTOP_ADDSMOOTH            = 11,   <span class="comment">// add 2 args, subtract product</span>
00561                                         <span class="comment">// Arg1 + Arg2 - Arg1*Arg2</span>
00562                                         <span class="comment">// = Arg1 + (1-Arg1)*Arg2</span>
00563 
00564     <span class="comment">// Linear alpha blend: Arg1*(Alpha) + Arg2*(1-Alpha)</span>
00565     D3DTOP_BLENDDIFFUSEALPHA    = 12, <span class="comment">// iterated alpha</span>
00566     D3DTOP_BLENDTEXTUREALPHA    = 13, <span class="comment">// texture alpha</span>
00567     D3DTOP_BLENDFACTORALPHA     = 14, <span class="comment">// alpha from D3DRS_TEXTUREFACTOR</span>
00568 
00569     <span class="comment">// Linear alpha blend with pre-multiplied arg1 input: Arg1 + Arg2*(1-Alpha)</span>
00570     D3DTOP_BLENDTEXTUREALPHAPM  = 15, <span class="comment">// texture alpha</span>
00571     D3DTOP_BLENDCURRENTALPHA    = 16, <span class="comment">// by alpha of current color</span>
00572 
00573     <span class="comment">// Specular mapping</span>
00574     D3DTOP_PREMODULATE            = 17,     <span class="comment">// modulate with next texture before use</span>
00575     D3DTOP_MODULATEALPHA_ADDCOLOR = 18,     <span class="comment">// Arg1.RGB + Arg1.A*Arg2.RGB</span>
00576                                             <span class="comment">// COLOROP only</span>
00577     D3DTOP_MODULATECOLOR_ADDALPHA = 19,     <span class="comment">// Arg1.RGB*Arg2.RGB + Arg1.A</span>
00578                                             <span class="comment">// COLOROP only</span>
00579     D3DTOP_MODULATEINVALPHA_ADDCOLOR = 20,  <span class="comment">// (1-Arg1.A)*Arg2.RGB + Arg1.RGB</span>
00580                                             <span class="comment">// COLOROP only</span>
00581     D3DTOP_MODULATEINVCOLOR_ADDALPHA = 21,  <span class="comment">// (1-Arg1.RGB)*Arg2.RGB + Arg1.A</span>
00582                                             <span class="comment">// COLOROP only</span>
00583 
00584     <span class="comment">// Bump mapping</span>
00585     D3DTOP_BUMPENVMAP           = 22, <span class="comment">// per pixel env map perturbation</span>
00586     D3DTOP_BUMPENVMAPLUMINANCE  = 23, <span class="comment">// with luminance channel</span>
00587 
00588     <span class="comment">// This can do either diffuse or specular bump mapping with correct input.</span>
00589     <span class="comment">// Performs the function (Arg1.R*Arg2.R + Arg1.G*Arg2.G + Arg1.B*Arg2.B)</span>
00590     <span class="comment">// where each component has been scaled and offset to make it signed.</span>
00591     <span class="comment">// The result is replicated into all four (including alpha) channels.</span>
00592     <span class="comment">// This is a valid COLOROP only.</span>
00593     D3DTOP_DOTPRODUCT3          = 24,
00594 
00595     <span class="comment">// Triadic ops</span>
00596     D3DTOP_MULTIPLYADD          = 25, <span class="comment">// Arg0 + Arg1*Arg2</span>
00597     D3DTOP_LERP                 = 26, <span class="comment">// (Arg0)*Arg1 + (1-Arg0)*Arg2</span>
00598 
00599     D3DTOP_FORCE_DWORD = 0x7fffffff,
00600 } D3DTEXTUREOP;
00601 
00602 <span class="comment">/*</span>
00603 <span class="comment"> * Values for COLORARG0,1,2, ALPHAARG0,1,2, and RESULTARG texture blending</span>
00604 <span class="comment"> * operations set in texture processing stage controls in D3DRENDERSTATE.</span>
00605 <span class="comment"> */</span>
00606 <span class="preprocessor">#define D3DTA_SELECTMASK        0x0000000f  // mask for arg selector</span>
00607 <span class="preprocessor"></span><span class="preprocessor">#define D3DTA_DIFFUSE           0x00000000  // select diffuse color (read only)</span>
00608 <span class="preprocessor"></span><span class="preprocessor">#define D3DTA_CURRENT           0x00000001  // select stage destination register (read/write)</span>
00609 <span class="preprocessor"></span><span class="preprocessor">#define D3DTA_TEXTURE           0x00000002  // select texture color (read only)</span>
00610 <span class="preprocessor"></span><span class="preprocessor">#define D3DTA_TFACTOR           0x00000003  // select D3DRS_TEXTUREFACTOR (read only)</span>
00611 <span class="preprocessor"></span><span class="preprocessor">#define D3DTA_SPECULAR          0x00000004  // select specular color (read only)</span>
00612 <span class="preprocessor"></span><span class="preprocessor">#define D3DTA_TEMP              0x00000005  // select temporary register color (read/write)</span>
00613 <span class="preprocessor"></span><span class="preprocessor">#define D3DTA_CONSTANT          0x00000006  // select texture stage constant</span>
00614 <span class="preprocessor"></span><span class="preprocessor">#define D3DTA_COMPLEMENT        0x00000010  // take 1.0 - x (read modifier)</span>
00615 <span class="preprocessor"></span><span class="preprocessor">#define D3DTA_ALPHAREPLICATE    0x00000020  // replicate alpha to color components (read modifier)</span>
00616 <span class="preprocessor"></span>
00617 <span class="comment">//</span>
00618 <span class="comment">// Values for D3DSAMP_***FILTER texture stage states</span>
00619 <span class="comment">//</span>
00620 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DTEXTUREFILTERTYPE
00621 {
00622     D3DTEXF_NONE            = 0,    <span class="comment">// filtering disabled (valid for mip filter only)</span>
00623     D3DTEXF_POINT           = 1,    <span class="comment">// nearest</span>
00624     D3DTEXF_LINEAR          = 2,    <span class="comment">// linear interpolation</span>
00625     D3DTEXF_ANISOTROPIC     = 3,    <span class="comment">// anisotropic</span>
00626     D3DTEXF_PYRAMIDALQUAD   = 6,    <span class="comment">// 4-sample tent</span>
00627     D3DTEXF_GAUSSIANQUAD    = 7,    <span class="comment">// 4-sample gaussian</span>
00628     D3DTEXF_FORCE_DWORD     = 0x7fffffff,   <span class="comment">// force 32-bit size enum</span>
00629 } D3DTEXTUREFILTERTYPE;
00630 
00631 <span class="comment">/* Bits for Flags in ProcessVertices call */</span>
00632 
00633 <span class="preprocessor">#define D3DPV_DONOTCOPYDATA     (1 &lt;&lt; 0)</span>
00634 <span class="preprocessor"></span>
00635 <span class="comment">//-------------------------------------------------------------------</span>
00636 
00637 <span class="comment">// Flexible vertex format bits</span>
00638 <span class="comment">//</span>
00639 <span class="preprocessor">#define D3DFVF_RESERVED0        0x001</span>
00640 <span class="preprocessor"></span><span class="preprocessor">#define D3DFVF_POSITION_MASK    0x400E</span>
00641 <span class="preprocessor"></span><span class="preprocessor">#define D3DFVF_XYZ              0x002</span>
00642 <span class="preprocessor"></span><span class="preprocessor">#define D3DFVF_XYZRHW           0x004</span>
00643 <span class="preprocessor"></span><span class="preprocessor">#define D3DFVF_XYZB1            0x006</span>
00644 <span class="preprocessor"></span><span class="preprocessor">#define D3DFVF_XYZB2            0x008</span>
00645 <span class="preprocessor"></span><span class="preprocessor">#define D3DFVF_XYZB3            0x00a</span>
00646 <span class="preprocessor"></span><span class="preprocessor">#define D3DFVF_XYZB4            0x00c</span>
00647 <span class="preprocessor"></span><span class="preprocessor">#define D3DFVF_XYZB5            0x00e</span>
00648 <span class="preprocessor"></span><span class="preprocessor">#define D3DFVF_XYZW             0x4002</span>
00649 <span class="preprocessor"></span>
00650 <span class="preprocessor">#define D3DFVF_NORMAL           0x010</span>
00651 <span class="preprocessor"></span><span class="preprocessor">#define D3DFVF_PSIZE            0x020</span>
00652 <span class="preprocessor"></span><span class="preprocessor">#define D3DFVF_DIFFUSE          0x040</span>
00653 <span class="preprocessor"></span><span class="preprocessor">#define D3DFVF_SPECULAR         0x080</span>
00654 <span class="preprocessor"></span>
00655 <span class="preprocessor">#define D3DFVF_TEXCOUNT_MASK    0xf00</span>
00656 <span class="preprocessor"></span><span class="preprocessor">#define D3DFVF_TEXCOUNT_SHIFT   8</span>
00657 <span class="preprocessor"></span><span class="preprocessor">#define D3DFVF_TEX0             0x000</span>
00658 <span class="preprocessor"></span><span class="preprocessor">#define D3DFVF_TEX1             0x100</span>
00659 <span class="preprocessor"></span><span class="preprocessor">#define D3DFVF_TEX2             0x200</span>
00660 <span class="preprocessor"></span><span class="preprocessor">#define D3DFVF_TEX3             0x300</span>
00661 <span class="preprocessor"></span><span class="preprocessor">#define D3DFVF_TEX4             0x400</span>
00662 <span class="preprocessor"></span><span class="preprocessor">#define D3DFVF_TEX5             0x500</span>
00663 <span class="preprocessor"></span><span class="preprocessor">#define D3DFVF_TEX6             0x600</span>
00664 <span class="preprocessor"></span><span class="preprocessor">#define D3DFVF_TEX7             0x700</span>
00665 <span class="preprocessor"></span><span class="preprocessor">#define D3DFVF_TEX8             0x800</span>
00666 <span class="preprocessor"></span>
00667 <span class="preprocessor">#define D3DFVF_LASTBETA_UBYTE4   0x1000</span>
00668 <span class="preprocessor"></span><span class="preprocessor">#define D3DFVF_LASTBETA_D3DCOLOR 0x8000</span>
00669 <span class="preprocessor"></span>
00670 <span class="preprocessor">#define D3DFVF_RESERVED2         0x6000  // 2 reserved bits</span>
00671 <span class="preprocessor"></span>
00672 <span class="comment">//---------------------------------------------------------------------</span>
00673 <span class="comment">// Vertex Shaders</span>
00674 <span class="comment">//</span>
00675 
00676 <span class="comment">// Vertex shader declaration</span>
00677 
00678 <span class="comment">// Vertex element semantics</span>
00679 <span class="comment">//</span>
00680 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DDECLUSAGE
00681 {
00682     D3DDECLUSAGE_POSITION = 0,
00683     D3DDECLUSAGE_BLENDWEIGHT,   <span class="comment">// 1</span>
00684     D3DDECLUSAGE_BLENDINDICES,  <span class="comment">// 2</span>
00685     D3DDECLUSAGE_NORMAL,        <span class="comment">// 3</span>
00686     D3DDECLUSAGE_PSIZE,         <span class="comment">// 4</span>
00687     D3DDECLUSAGE_TEXCOORD,      <span class="comment">// 5</span>
00688     D3DDECLUSAGE_TANGENT,       <span class="comment">// 6</span>
00689     D3DDECLUSAGE_BINORMAL,      <span class="comment">// 7</span>
00690     D3DDECLUSAGE_TESSFACTOR,    <span class="comment">// 8</span>
00691     D3DDECLUSAGE_POSITIONT,     <span class="comment">// 9</span>
00692     D3DDECLUSAGE_COLOR,         <span class="comment">// 10</span>
00693     D3DDECLUSAGE_FOG,           <span class="comment">// 11</span>
00694     D3DDECLUSAGE_DEPTH,         <span class="comment">// 12</span>
00695     D3DDECLUSAGE_SAMPLE,        <span class="comment">// 13</span>
00696 } D3DDECLUSAGE;
00697 
00698 <span class="preprocessor">#define MAXD3DDECLUSAGE         D3DDECLUSAGE_SAMPLE</span>
00699 <span class="preprocessor"></span><span class="preprocessor">#define MAXD3DDECLUSAGEINDEX    15</span>
00700 <span class="preprocessor"></span><span class="preprocessor">#define MAXD3DDECLLENGTH        64 // does not include "end" marker vertex element</span>
00701 <span class="preprocessor"></span>
00702 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DDECLMETHOD
00703 {
00704     D3DDECLMETHOD_DEFAULT = 0,
00705     D3DDECLMETHOD_PARTIALU,
00706     D3DDECLMETHOD_PARTIALV,
00707     D3DDECLMETHOD_CROSSUV,    <span class="comment">// Normal</span>
00708     D3DDECLMETHOD_UV,
00709     D3DDECLMETHOD_LOOKUP,               <span class="comment">// Lookup a displacement map</span>
00710     D3DDECLMETHOD_LOOKUPPRESAMPLED,     <span class="comment">// Lookup a pre-sampled displacement map</span>
00711 } D3DDECLMETHOD;
00712 
00713 <span class="preprocessor">#define MAXD3DDECLMETHOD D3DDECLMETHOD_LOOKUPPRESAMPLED</span>
00714 <span class="preprocessor"></span>
00715 <span class="comment">// Declarations for _Type fields</span>
00716 <span class="comment">//</span>
00717 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DDECLTYPE
00718 {
00719     D3DDECLTYPE_FLOAT1    =  0,  <span class="comment">// 1D float expanded to (value, 0., 0., 1.)</span>
00720     D3DDECLTYPE_FLOAT2    =  1,  <span class="comment">// 2D float expanded to (value, value, 0., 1.)</span>
00721     D3DDECLTYPE_FLOAT3    =  2,  <span class="comment">// 3D float expanded to (value, value, value, 1.)</span>
00722     D3DDECLTYPE_FLOAT4    =  3,  <span class="comment">// 4D float</span>
00723     D3DDECLTYPE_D3DCOLOR  =  4,  <span class="comment">// 4D packed unsigned bytes mapped to 0. to 1. range</span>
00724                                  <span class="comment">// Input is in D3DCOLOR format (ARGB) expanded to (R, G, B, A)</span>
00725     D3DDECLTYPE_UBYTE4    =  5,  <span class="comment">// 4D unsigned byte</span>
00726     D3DDECLTYPE_SHORT2    =  6,  <span class="comment">// 2D signed short expanded to (value, value, 0., 1.)</span>
00727     D3DDECLTYPE_SHORT4    =  7,  <span class="comment">// 4D signed short</span>
00728 
00729 <span class="comment">// The following types are valid only with vertex shaders &gt;= 2.0</span>
00730 
00731 
00732     D3DDECLTYPE_UBYTE4N   =  8,  <span class="comment">// Each of 4 bytes is normalized by dividing to 255.0</span>
00733     D3DDECLTYPE_SHORT2N   =  9,  <span class="comment">// 2D signed short normalized (v[0]/32767.0,v[1]/32767.0,0,1)</span>
00734     D3DDECLTYPE_SHORT4N   = 10,  <span class="comment">// 4D signed short normalized (v[0]/32767.0,v[1]/32767.0,v[2]/32767.0,v[3]/32767.0)</span>
00735     D3DDECLTYPE_USHORT2N  = 11,  <span class="comment">// 2D unsigned short normalized (v[0]/65535.0,v[1]/65535.0,0,1)</span>
00736     D3DDECLTYPE_USHORT4N  = 12,  <span class="comment">// 4D unsigned short normalized (v[0]/65535.0,v[1]/65535.0,v[2]/65535.0,v[3]/65535.0)</span>
00737     D3DDECLTYPE_UDEC3     = 13,  <span class="comment">// 3D unsigned 10 10 10 format expanded to (value, value, value, 1)</span>
00738     D3DDECLTYPE_DEC3N     = 14,  <span class="comment">// 3D signed 10 10 10 format normalized and expanded to (v[0]/511.0, v[1]/511.0, v[2]/511.0, 1)</span>
00739     D3DDECLTYPE_FLOAT16_2 = 15,  <span class="comment">// Two 16-bit floating point values, expanded to (value, value, 0, 1)</span>
00740     D3DDECLTYPE_FLOAT16_4 = 16,  <span class="comment">// Four 16-bit floating point values</span>
00741     D3DDECLTYPE_UNUSED    = 17,  <span class="comment">// When the type field in a decl is unused.</span>
00742 } D3DDECLTYPE;
00743 
00744 <span class="preprocessor">#define MAXD3DDECLTYPE      D3DDECLTYPE_UNUSED</span>
00745 <span class="preprocessor"></span>
00746 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DVERTEXELEMENT9
00747 {
00748     WORD    Stream;     <span class="comment">// Stream index</span>
00749     WORD    Offset;     <span class="comment">// Offset in the stream in bytes</span>
00750     BYTE    Type;       <span class="comment">// Data type</span>
00751     BYTE    Method;     <span class="comment">// Processing method</span>
00752     BYTE    Usage;      <span class="comment">// Semantics</span>
00753     BYTE    UsageIndex; <span class="comment">// Semantic index</span>
00754 } D3DVERTEXELEMENT9, *LPD3DVERTEXELEMENT9;
00755 
00756 <span class="comment">// This is used to initialize the last vertex element in a vertex declaration</span>
00757 <span class="comment">// array</span>
00758 <span class="comment">//</span>
00759 <span class="preprocessor">#define D3DDECL_END() {0xFF,0,D3DDECLTYPE_UNUSED,0,0,0}</span>
00760 <span class="preprocessor"></span>
00761 <span class="comment">// Maximum supported number of texture coordinate sets</span>
00762 <span class="preprocessor">#define D3DDP_MAXTEXCOORD   8</span>
00763 <span class="preprocessor"></span>
00764 <span class="comment">//---------------------------------------------------------------------</span>
00765 <span class="comment">// Values for IDirect3DDevice9::SetStreamSourceFreq's Setting parameter</span>
00766 <span class="comment">//---------------------------------------------------------------------</span>
00767 <span class="preprocessor">#define D3DSTREAMSOURCE_INDEXEDDATA  (1&lt;&lt;30)</span>
00768 <span class="preprocessor"></span><span class="preprocessor">#define D3DSTREAMSOURCE_INSTANCEDATA (2&lt;&lt;30)</span>
00769 <span class="preprocessor"></span>
00770 
00771 
00772 <span class="comment">//---------------------------------------------------------------------</span>
00773 <span class="comment">//</span>
00774 <span class="comment">// The internal format of Pixel Shader (PS) &amp; Vertex Shader (VS)</span>
00775 <span class="comment">// Instruction Tokens is defined in the Direct3D Device Driver Kit</span>
00776 <span class="comment">//</span>
00777 <span class="comment">//---------------------------------------------------------------------</span>
00778 
00779 <span class="comment">//</span>
00780 <span class="comment">// Instruction Token Bit Definitions</span>
00781 <span class="comment">//</span>
00782 <span class="preprocessor">#define D3DSI_OPCODE_MASK       0x0000FFFF</span>
00783 <span class="preprocessor"></span>
00784 <span class="preprocessor">#define D3DSI_INSTLENGTH_MASK   0x0F000000</span>
00785 <span class="preprocessor"></span><span class="preprocessor">#define D3DSI_INSTLENGTH_SHIFT  24</span>
00786 <span class="preprocessor"></span>
00787 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DSHADER_INSTRUCTION_OPCODE_TYPE
00788 {
00789     D3DSIO_NOP          = 0,
00790     D3DSIO_MOV          ,
00791     D3DSIO_ADD          ,
00792     D3DSIO_SUB          ,
00793     D3DSIO_MAD          ,
00794     D3DSIO_MUL          ,
00795     D3DSIO_RCP          ,
00796     D3DSIO_RSQ          ,
00797     D3DSIO_DP3          ,
00798     D3DSIO_DP4          ,
00799     D3DSIO_MIN          ,
00800     D3DSIO_MAX          ,
00801     D3DSIO_SLT          ,
00802     D3DSIO_SGE          ,
00803     D3DSIO_EXP          ,
00804     D3DSIO_LOG          ,
00805     D3DSIO_LIT          ,
00806     D3DSIO_DST          ,
00807     D3DSIO_LRP          ,
00808     D3DSIO_FRC          ,
00809     D3DSIO_M4x4         ,
00810     D3DSIO_M4x3         ,
00811     D3DSIO_M3x4         ,
00812     D3DSIO_M3x3         ,
00813     D3DSIO_M3x2         ,
00814     D3DSIO_CALL         ,
00815     D3DSIO_CALLNZ       ,
00816     D3DSIO_LOOP         ,
00817     D3DSIO_RET          ,
00818     D3DSIO_ENDLOOP      ,
00819     D3DSIO_LABEL        ,
00820     D3DSIO_DCL          ,
00821     D3DSIO_POW          ,
00822     D3DSIO_CRS          ,
00823     D3DSIO_SGN          ,
00824     D3DSIO_ABS          ,
00825     D3DSIO_NRM          ,
00826     D3DSIO_SINCOS       ,
00827     D3DSIO_REP          ,
00828     D3DSIO_ENDREP       ,
00829     D3DSIO_IF           ,
00830     D3DSIO_IFC          ,
00831     D3DSIO_ELSE         ,
00832     D3DSIO_ENDIF        ,
00833     D3DSIO_BREAK        ,
00834     D3DSIO_BREAKC       ,
00835     D3DSIO_MOVA         ,
00836     D3DSIO_DEFB         ,
00837     D3DSIO_DEFI         ,
00838 
00839     D3DSIO_TEXCOORD     = 64,
00840     D3DSIO_TEXKILL      ,
00841     D3DSIO_TEX          ,
00842     D3DSIO_TEXBEM       ,
00843     D3DSIO_TEXBEML      ,
00844     D3DSIO_TEXREG2AR    ,
00845     D3DSIO_TEXREG2GB    ,
00846     D3DSIO_TEXM3x2PAD   ,
00847     D3DSIO_TEXM3x2TEX   ,
00848     D3DSIO_TEXM3x3PAD   ,
00849     D3DSIO_TEXM3x3TEX   ,
00850     D3DSIO_RESERVED0    ,
00851     D3DSIO_TEXM3x3SPEC  ,
00852     D3DSIO_TEXM3x3VSPEC ,
00853     D3DSIO_EXPP         ,
00854     D3DSIO_LOGP         ,
00855     D3DSIO_CND          ,
00856     D3DSIO_DEF          ,
00857     D3DSIO_TEXREG2RGB   ,
00858     D3DSIO_TEXDP3TEX    ,
00859     D3DSIO_TEXM3x2DEPTH ,
00860     D3DSIO_TEXDP3       ,
00861     D3DSIO_TEXM3x3      ,
00862     D3DSIO_TEXDEPTH     ,
00863     D3DSIO_CMP          ,
00864     D3DSIO_BEM          ,
00865     D3DSIO_DP2ADD       ,
00866     D3DSIO_DSX          ,
00867     D3DSIO_DSY          ,
00868     D3DSIO_TEXLDD       ,
00869     D3DSIO_SETP         ,
00870     D3DSIO_TEXLDL       ,
00871     D3DSIO_BREAKP       ,
00872 
00873     D3DSIO_PHASE        = 0xFFFD,
00874     D3DSIO_COMMENT      = 0xFFFE,
00875     D3DSIO_END          = 0xFFFF,
00876 
00877     D3DSIO_FORCE_DWORD  = 0x7fffffff,   <span class="comment">// force 32-bit size enum</span>
00878 } D3DSHADER_INSTRUCTION_OPCODE_TYPE;
00879 
00880 <span class="comment">//---------------------------------------------------------------------</span>
00881 <span class="comment">// Use these constants with D3DSIO_SINCOS macro as SRC2, SRC3</span>
00882 <span class="comment">//</span>
00883 <span class="preprocessor">#define D3DSINCOSCONST1 -1.5500992e-006f, -2.1701389e-005f,  0.0026041667f, 0.00026041668f</span>
00884 <span class="preprocessor"></span><span class="preprocessor">#define D3DSINCOSCONST2 -0.020833334f, -0.12500000f, 1.0f, 0.50000000f</span>
00885 <span class="preprocessor"></span>
00886 <span class="comment">//---------------------------------------------------------------------</span>
00887 <span class="comment">// Co-Issue Instruction Modifier - if set then this instruction is to be</span>
00888 <span class="comment">// issued in parallel with the previous instruction(s) for which this bit</span>
00889 <span class="comment">// is not set.</span>
00890 <span class="comment">//</span>
00891 <span class="preprocessor">#define D3DSI_COISSUE           0x40000000</span>
00892 <span class="preprocessor"></span>
00893 <span class="comment">//---------------------------------------------------------------------</span>
00894 <span class="comment">// Opcode specific controls</span>
00895 
00896 <span class="preprocessor">#define D3DSP_OPCODESPECIFICCONTROL_MASK  0x00ff0000</span>
00897 <span class="preprocessor"></span><span class="preprocessor">#define D3DSP_OPCODESPECIFICCONTROL_SHIFT 16</span>
00898 <span class="preprocessor"></span>
00899 <span class="comment">// ps_2_0 texld controls</span>
00900 <span class="preprocessor">#define D3DSI_TEXLD_PROJECT (0x01 &lt;&lt; D3DSP_OPCODESPECIFICCONTROL_SHIFT)</span>
00901 <span class="preprocessor"></span><span class="preprocessor">#define D3DSI_TEXLD_BIAS    (0x02 &lt;&lt; D3DSP_OPCODESPECIFICCONTROL_SHIFT)</span>
00902 <span class="preprocessor"></span>
00903 <span class="comment">// Comparison for dynamic conditional instruction opcodes (i.e. if, breakc)</span>
00904 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DSHADER_COMPARISON
00905 {
00906                          <span class="comment">// &lt; = &gt;</span>
00907     D3DSPC_RESERVED0= 0, <span class="comment">// 0 0 0</span>
00908     D3DSPC_GT       = 1, <span class="comment">// 0 0 1</span>
00909     D3DSPC_EQ       = 2, <span class="comment">// 0 1 0</span>
00910     D3DSPC_GE       = 3, <span class="comment">// 0 1 1</span>
00911     D3DSPC_LT       = 4, <span class="comment">// 1 0 0</span>
00912     D3DSPC_NE       = 5, <span class="comment">// 1 0 1</span>
00913     D3DSPC_LE       = 6, <span class="comment">// 1 1 0</span>
00914     D3DSPC_RESERVED1= 7  <span class="comment">// 1 1 1</span>
00915 } D3DSHADER_COMPARISON;
00916 
00917 <span class="comment">// Comparison is part of instruction opcode token:</span>
00918 <span class="preprocessor">#define D3DSHADER_COMPARISON_SHIFT D3DSP_OPCODESPECIFICCONTROL_SHIFT</span>
00919 <span class="preprocessor"></span><span class="preprocessor">#define D3DSHADER_COMPARISON_MASK  (0x7&lt;&lt;D3DSHADER_COMPARISON_SHIFT)</span>
00920 <span class="preprocessor"></span>
00921 <span class="comment">//---------------------------------------------------------------------</span>
00922 <span class="comment">// Predication flags on instruction token</span>
00923 <span class="preprocessor">#define D3DSHADER_INSTRUCTION_PREDICATED    (0x1 &lt;&lt; 28)</span>
00924 <span class="preprocessor"></span>
00925 <span class="comment">//---------------------------------------------------------------------</span>
00926 <span class="comment">// DCL Info Token Controls</span>
00927 
00928 <span class="comment">// For dcl info tokens requiring a semantic (usage + index)</span>
00929 <span class="preprocessor">#define D3DSP_DCL_USAGE_SHIFT 0</span>
00930 <span class="preprocessor"></span><span class="preprocessor">#define D3DSP_DCL_USAGE_MASK  0x0000000f</span>
00931 <span class="preprocessor"></span>
00932 <span class="preprocessor">#define D3DSP_DCL_USAGEINDEX_SHIFT 16</span>
00933 <span class="preprocessor"></span><span class="preprocessor">#define D3DSP_DCL_USAGEINDEX_MASK  0x000f0000</span>
00934 <span class="preprocessor"></span>
00935 <span class="comment">// DCL pixel shader sampler info token.</span>
00936 <span class="preprocessor">#define D3DSP_TEXTURETYPE_SHIFT 27</span>
00937 <span class="preprocessor"></span><span class="preprocessor">#define D3DSP_TEXTURETYPE_MASK  0x78000000</span>
00938 <span class="preprocessor"></span>
00939 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DSAMPLER_TEXTURE_TYPE
00940 {
00941     D3DSTT_UNKNOWN = 0&lt;&lt;D3DSP_TEXTURETYPE_SHIFT, <span class="comment">// uninitialized value</span>
00942     D3DSTT_2D      = 2&lt;&lt;D3DSP_TEXTURETYPE_SHIFT, <span class="comment">// dcl_2d s# (for declaring a 2-D texture)</span>
00943     D3DSTT_CUBE    = 3&lt;&lt;D3DSP_TEXTURETYPE_SHIFT, <span class="comment">// dcl_cube s# (for declaring a cube texture)</span>
00944     D3DSTT_VOLUME  = 4&lt;&lt;D3DSP_TEXTURETYPE_SHIFT, <span class="comment">// dcl_volume s# (for declaring a volume texture)</span>
00945     D3DSTT_FORCE_DWORD  = 0x7fffffff,      <span class="comment">// force 32-bit size enum</span>
00946 } D3DSAMPLER_TEXTURE_TYPE;
00947 
00948 <span class="comment">//---------------------------------------------------------------------</span>
00949 <span class="comment">// Parameter Token Bit Definitions</span>
00950 <span class="comment">//</span>
00951 <span class="preprocessor">#define D3DSP_REGNUM_MASK       0x000007FF</span>
00952 <span class="preprocessor"></span>
00953 <span class="comment">// destination parameter write mask</span>
00954 <span class="preprocessor">#define D3DSP_WRITEMASK_0       0x00010000  // Component 0 (X;Red)</span>
00955 <span class="preprocessor"></span><span class="preprocessor">#define D3DSP_WRITEMASK_1       0x00020000  // Component 1 (Y;Green)</span>
00956 <span class="preprocessor"></span><span class="preprocessor">#define D3DSP_WRITEMASK_2       0x00040000  // Component 2 (Z;Blue)</span>
00957 <span class="preprocessor"></span><span class="preprocessor">#define D3DSP_WRITEMASK_3       0x00080000  // Component 3 (W;Alpha)</span>
00958 <span class="preprocessor"></span><span class="preprocessor">#define D3DSP_WRITEMASK_ALL     0x000F0000  // All Components</span>
00959 <span class="preprocessor"></span>
00960 <span class="comment">// destination parameter modifiers</span>
00961 <span class="preprocessor">#define D3DSP_DSTMOD_SHIFT      20</span>
00962 <span class="preprocessor"></span><span class="preprocessor">#define D3DSP_DSTMOD_MASK       0x00F00000</span>
00963 <span class="preprocessor"></span>
00964 <span class="comment">// Bit masks for destination parameter modifiers</span>
00965 <span class="preprocessor">#define    D3DSPDM_NONE                 (0&lt;&lt;D3DSP_DSTMOD_SHIFT) // nop</span>
00966 <span class="preprocessor"></span><span class="preprocessor">#define    D3DSPDM_SATURATE             (1&lt;&lt;D3DSP_DSTMOD_SHIFT) // clamp to 0. to 1. range</span>
00967 <span class="preprocessor"></span><span class="preprocessor">#define    D3DSPDM_PARTIALPRECISION     (2&lt;&lt;D3DSP_DSTMOD_SHIFT) // Partial precision hint</span>
00968 <span class="preprocessor"></span><span class="preprocessor">#define    D3DSPDM_MSAMPCENTROID        (4&lt;&lt;D3DSP_DSTMOD_SHIFT) // Relevant to multisampling only:</span>
00969 <span class="preprocessor"></span>                                                                <span class="comment">//      When the pixel center is not covered, sample</span>
00970                                                                 <span class="comment">//      attribute or compute gradients/LOD</span>
00971                                                                 <span class="comment">//      using multisample "centroid" location.</span>
00972                                                                 <span class="comment">//      "Centroid" is some location within the covered</span>
00973                                                                 <span class="comment">//      region of the pixel.</span>
00974 
00975 <span class="comment">// destination parameter </span>
00976 <span class="preprocessor">#define D3DSP_DSTSHIFT_SHIFT    24</span>
00977 <span class="preprocessor"></span><span class="preprocessor">#define D3DSP_DSTSHIFT_MASK     0x0F000000</span>
00978 <span class="preprocessor"></span>
00979 <span class="comment">// destination/source parameter register type</span>
00980 <span class="preprocessor">#define D3DSP_REGTYPE_SHIFT     28</span>
00981 <span class="preprocessor"></span><span class="preprocessor">#define D3DSP_REGTYPE_SHIFT2    8</span>
00982 <span class="preprocessor"></span><span class="preprocessor">#define D3DSP_REGTYPE_MASK      0x70000000</span>
00983 <span class="preprocessor"></span><span class="preprocessor">#define D3DSP_REGTYPE_MASK2     0x00001800</span>
00984 <span class="preprocessor"></span>
00985 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DSHADER_PARAM_REGISTER_TYPE
00986 {
00987     D3DSPR_TEMP           =  0, <span class="comment">// Temporary Register File</span>
00988     D3DSPR_INPUT          =  1, <span class="comment">// Input Register File</span>
00989     D3DSPR_CONST          =  2, <span class="comment">// Constant Register File</span>
00990     D3DSPR_ADDR           =  3, <span class="comment">// Address Register (VS)</span>
00991     D3DSPR_TEXTURE        =  3, <span class="comment">// Texture Register File (PS)</span>
00992     D3DSPR_RASTOUT        =  4, <span class="comment">// Rasterizer Register File</span>
00993     D3DSPR_ATTROUT        =  5, <span class="comment">// Attribute Output Register File</span>
00994     D3DSPR_TEXCRDOUT      =  6, <span class="comment">// Texture Coordinate Output Register File</span>
00995     D3DSPR_OUTPUT         =  6, <span class="comment">// Output register file for VS3.0+</span>
00996     D3DSPR_CONSTINT       =  7, <span class="comment">// Constant Integer Vector Register File</span>
00997     D3DSPR_COLOROUT       =  8, <span class="comment">// Color Output Register File</span>
00998     D3DSPR_DEPTHOUT       =  9, <span class="comment">// Depth Output Register File</span>
00999     D3DSPR_SAMPLER        = 10, <span class="comment">// Sampler State Register File</span>
01000     D3DSPR_CONST2         = 11, <span class="comment">// Constant Register File  2048 - 4095</span>
01001     D3DSPR_CONST3         = 12, <span class="comment">// Constant Register File  4096 - 6143</span>
01002     D3DSPR_CONST4         = 13, <span class="comment">// Constant Register File  6144 - 8191</span>
01003     D3DSPR_CONSTBOOL      = 14, <span class="comment">// Constant Boolean register file</span>
01004     D3DSPR_LOOP           = 15, <span class="comment">// Loop counter register file</span>
01005     D3DSPR_TEMPFLOAT16    = 16, <span class="comment">// 16-bit float temp register file</span>
01006     D3DSPR_MISCTYPE       = 17, <span class="comment">// Miscellaneous (single) registers.</span>
01007     D3DSPR_LABEL          = 18, <span class="comment">// Label</span>
01008     D3DSPR_PREDICATE      = 19, <span class="comment">// Predicate register</span>
01009     D3DSPR_FORCE_DWORD  = 0x7fffffff,         <span class="comment">// force 32-bit size enum</span>
01010 } D3DSHADER_PARAM_REGISTER_TYPE;
01011 
01012 <span class="comment">// The miscellaneous register file (D3DSPR_MISCTYPES)</span>
01013 <span class="comment">// contains register types for which there is only ever one</span>
01014 <span class="comment">// register (i.e. the register # is not needed).</span>
01015 <span class="comment">// Rather than use up additional register types for such</span>
01016 <span class="comment">// registers, they are defined</span>
01017 <span class="comment">// as particular offsets into the misc. register file:</span>
01018 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DSHADER_MISCTYPE_OFFSETS
01019 {
01020     D3DSMO_POSITION   = 0, <span class="comment">// Input position x,y,z,rhw (PS)</span>
01021     D3DSMO_FACE   = 1, <span class="comment">// Floating point primitive area (PS)</span>
01022 } D3DSHADER_MISCTYPE_OFFSETS;
01023 
01024 <span class="comment">// Register offsets in the Rasterizer Register File</span>
01025 <span class="comment">//</span>
01026 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DVS_RASTOUT_OFFSETS
01027 {
01028     D3DSRO_POSITION = 0,
01029     D3DSRO_FOG,
01030     D3DSRO_POINT_SIZE,
01031     D3DSRO_FORCE_DWORD  = 0x7fffffff,         <span class="comment">// force 32-bit size enum</span>
01032 } D3DVS_RASTOUT_OFFSETS;
01033 
01034 <span class="comment">// Source operand addressing modes</span>
01035 
01036 <span class="preprocessor">#define D3DVS_ADDRESSMODE_SHIFT 13</span>
01037 <span class="preprocessor"></span><span class="preprocessor">#define D3DVS_ADDRESSMODE_MASK  (1 &lt;&lt; D3DVS_ADDRESSMODE_SHIFT)</span>
01038 <span class="preprocessor"></span>
01039 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DVS_ADDRESSMODE_TYPE
01040 {
01041     D3DVS_ADDRMODE_ABSOLUTE  = (0 &lt;&lt; D3DVS_ADDRESSMODE_SHIFT),
01042     D3DVS_ADDRMODE_RELATIVE  = (1 &lt;&lt; D3DVS_ADDRESSMODE_SHIFT),
01043     D3DVS_ADDRMODE_FORCE_DWORD = 0x7fffffff, <span class="comment">// force 32-bit size enum</span>
01044 } D3DVS_ADDRESSMODE_TYPE;
01045 
01046 <span class="preprocessor">#define D3DSHADER_ADDRESSMODE_SHIFT 13</span>
01047 <span class="preprocessor"></span><span class="preprocessor">#define D3DSHADER_ADDRESSMODE_MASK  (1 &lt;&lt; D3DSHADER_ADDRESSMODE_SHIFT)</span>
01048 <span class="preprocessor"></span>
01049 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DSHADER_ADDRESSMODE_TYPE
01050 {
01051     D3DSHADER_ADDRMODE_ABSOLUTE  = (0 &lt;&lt; D3DSHADER_ADDRESSMODE_SHIFT),
01052     D3DSHADER_ADDRMODE_RELATIVE  = (1 &lt;&lt; D3DSHADER_ADDRESSMODE_SHIFT),
01053     D3DSHADER_ADDRMODE_FORCE_DWORD = 0x7fffffff, <span class="comment">// force 32-bit size enum</span>
01054 } D3DSHADER_ADDRESSMODE_TYPE;
01055 
01056 <span class="comment">// Source operand swizzle definitions</span>
01057 <span class="comment">//</span>
01058 <span class="preprocessor">#define D3DVS_SWIZZLE_SHIFT     16</span>
01059 <span class="preprocessor"></span><span class="preprocessor">#define D3DVS_SWIZZLE_MASK      0x00FF0000</span>
01060 <span class="preprocessor"></span>
01061 <span class="comment">// The following bits define where to take component X from:</span>
01062 
01063 <span class="preprocessor">#define D3DVS_X_X       (0 &lt;&lt; D3DVS_SWIZZLE_SHIFT)</span>
01064 <span class="preprocessor"></span><span class="preprocessor">#define D3DVS_X_Y       (1 &lt;&lt; D3DVS_SWIZZLE_SHIFT)</span>
01065 <span class="preprocessor"></span><span class="preprocessor">#define D3DVS_X_Z       (2 &lt;&lt; D3DVS_SWIZZLE_SHIFT)</span>
01066 <span class="preprocessor"></span><span class="preprocessor">#define D3DVS_X_W       (3 &lt;&lt; D3DVS_SWIZZLE_SHIFT)</span>
01067 <span class="preprocessor"></span>
01068 <span class="comment">// The following bits define where to take component Y from:</span>
01069 
01070 <span class="preprocessor">#define D3DVS_Y_X       (0 &lt;&lt; (D3DVS_SWIZZLE_SHIFT + 2))</span>
01071 <span class="preprocessor"></span><span class="preprocessor">#define D3DVS_Y_Y       (1 &lt;&lt; (D3DVS_SWIZZLE_SHIFT + 2))</span>
01072 <span class="preprocessor"></span><span class="preprocessor">#define D3DVS_Y_Z       (2 &lt;&lt; (D3DVS_SWIZZLE_SHIFT + 2))</span>
01073 <span class="preprocessor"></span><span class="preprocessor">#define D3DVS_Y_W       (3 &lt;&lt; (D3DVS_SWIZZLE_SHIFT + 2))</span>
01074 <span class="preprocessor"></span>
01075 <span class="comment">// The following bits define where to take component Z from:</span>
01076 
01077 <span class="preprocessor">#define D3DVS_Z_X       (0 &lt;&lt; (D3DVS_SWIZZLE_SHIFT + 4))</span>
01078 <span class="preprocessor"></span><span class="preprocessor">#define D3DVS_Z_Y       (1 &lt;&lt; (D3DVS_SWIZZLE_SHIFT + 4))</span>
01079 <span class="preprocessor"></span><span class="preprocessor">#define D3DVS_Z_Z       (2 &lt;&lt; (D3DVS_SWIZZLE_SHIFT + 4))</span>
01080 <span class="preprocessor"></span><span class="preprocessor">#define D3DVS_Z_W       (3 &lt;&lt; (D3DVS_SWIZZLE_SHIFT + 4))</span>
01081 <span class="preprocessor"></span>
01082 <span class="comment">// The following bits define where to take component W from:</span>
01083 
01084 <span class="preprocessor">#define D3DVS_W_X       (0 &lt;&lt; (D3DVS_SWIZZLE_SHIFT + 6))</span>
01085 <span class="preprocessor"></span><span class="preprocessor">#define D3DVS_W_Y       (1 &lt;&lt; (D3DVS_SWIZZLE_SHIFT + 6))</span>
01086 <span class="preprocessor"></span><span class="preprocessor">#define D3DVS_W_Z       (2 &lt;&lt; (D3DVS_SWIZZLE_SHIFT + 6))</span>
01087 <span class="preprocessor"></span><span class="preprocessor">#define D3DVS_W_W       (3 &lt;&lt; (D3DVS_SWIZZLE_SHIFT + 6))</span>
01088 <span class="preprocessor"></span>
01089 <span class="comment">// Value when there is no swizzle (X is taken from X, Y is taken from Y,</span>
01090 <span class="comment">// Z is taken from Z, W is taken from W</span>
01091 <span class="comment">//</span>
01092 <span class="preprocessor">#define D3DVS_NOSWIZZLE (D3DVS_X_X | D3DVS_Y_Y | D3DVS_Z_Z | D3DVS_W_W)</span>
01093 <span class="preprocessor"></span>
01094 <span class="comment">// source parameter swizzle</span>
01095 <span class="preprocessor">#define D3DSP_SWIZZLE_SHIFT     16</span>
01096 <span class="preprocessor"></span><span class="preprocessor">#define D3DSP_SWIZZLE_MASK      0x00FF0000</span>
01097 <span class="preprocessor"></span>
01098 <span class="preprocessor">#define D3DSP_NOSWIZZLE \</span>
01099 <span class="preprocessor">    ( (0 &lt;&lt; (D3DSP_SWIZZLE_SHIFT + 0)) | \</span>
01100 <span class="preprocessor">      (1 &lt;&lt; (D3DSP_SWIZZLE_SHIFT + 2)) | \</span>
01101 <span class="preprocessor">      (2 &lt;&lt; (D3DSP_SWIZZLE_SHIFT + 4)) | \</span>
01102 <span class="preprocessor">      (3 &lt;&lt; (D3DSP_SWIZZLE_SHIFT + 6)) )</span>
01103 <span class="preprocessor"></span>
01104 <span class="comment">// pixel-shader swizzle ops</span>
01105 <span class="preprocessor">#define D3DSP_REPLICATERED \</span>
01106 <span class="preprocessor">    ( (0 &lt;&lt; (D3DSP_SWIZZLE_SHIFT + 0)) | \</span>
01107 <span class="preprocessor">      (0 &lt;&lt; (D3DSP_SWIZZLE_SHIFT + 2)) | \</span>
01108 <span class="preprocessor">      (0 &lt;&lt; (D3DSP_SWIZZLE_SHIFT + 4)) | \</span>
01109 <span class="preprocessor">      (0 &lt;&lt; (D3DSP_SWIZZLE_SHIFT + 6)) )</span>
01110 <span class="preprocessor"></span>
01111 <span class="preprocessor">#define D3DSP_REPLICATEGREEN \</span>
01112 <span class="preprocessor">    ( (1 &lt;&lt; (D3DSP_SWIZZLE_SHIFT + 0)) | \</span>
01113 <span class="preprocessor">      (1 &lt;&lt; (D3DSP_SWIZZLE_SHIFT + 2)) | \</span>
01114 <span class="preprocessor">      (1 &lt;&lt; (D3DSP_SWIZZLE_SHIFT + 4)) | \</span>
01115 <span class="preprocessor">      (1 &lt;&lt; (D3DSP_SWIZZLE_SHIFT + 6)) )</span>
01116 <span class="preprocessor"></span>
01117 <span class="preprocessor">#define D3DSP_REPLICATEBLUE \</span>
01118 <span class="preprocessor">    ( (2 &lt;&lt; (D3DSP_SWIZZLE_SHIFT + 0)) | \</span>
01119 <span class="preprocessor">      (2 &lt;&lt; (D3DSP_SWIZZLE_SHIFT + 2)) | \</span>
01120 <span class="preprocessor">      (2 &lt;&lt; (D3DSP_SWIZZLE_SHIFT + 4)) | \</span>
01121 <span class="preprocessor">      (2 &lt;&lt; (D3DSP_SWIZZLE_SHIFT + 6)) )</span>
01122 <span class="preprocessor"></span>
01123 <span class="preprocessor">#define D3DSP_REPLICATEALPHA \</span>
01124 <span class="preprocessor">    ( (3 &lt;&lt; (D3DSP_SWIZZLE_SHIFT + 0)) | \</span>
01125 <span class="preprocessor">      (3 &lt;&lt; (D3DSP_SWIZZLE_SHIFT + 2)) | \</span>
01126 <span class="preprocessor">      (3 &lt;&lt; (D3DSP_SWIZZLE_SHIFT + 4)) | \</span>
01127 <span class="preprocessor">      (3 &lt;&lt; (D3DSP_SWIZZLE_SHIFT + 6)) )</span>
01128 <span class="preprocessor"></span>
01129 <span class="comment">// source parameter modifiers</span>
01130 <span class="preprocessor">#define D3DSP_SRCMOD_SHIFT      24</span>
01131 <span class="preprocessor"></span><span class="preprocessor">#define D3DSP_SRCMOD_MASK       0x0F000000</span>
01132 <span class="preprocessor"></span>
01133 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DSHADER_PARAM_SRCMOD_TYPE
01134 {
01135     D3DSPSM_NONE    = 0&lt;&lt;D3DSP_SRCMOD_SHIFT, <span class="comment">// nop</span>
01136     D3DSPSM_NEG     = 1&lt;&lt;D3DSP_SRCMOD_SHIFT, <span class="comment">// negate</span>
01137     D3DSPSM_BIAS    = 2&lt;&lt;D3DSP_SRCMOD_SHIFT, <span class="comment">// bias</span>
01138     D3DSPSM_BIASNEG = 3&lt;&lt;D3DSP_SRCMOD_SHIFT, <span class="comment">// bias and negate</span>
01139     D3DSPSM_SIGN    = 4&lt;&lt;D3DSP_SRCMOD_SHIFT, <span class="comment">// sign</span>
01140     D3DSPSM_SIGNNEG = 5&lt;&lt;D3DSP_SRCMOD_SHIFT, <span class="comment">// sign and negate</span>
01141     D3DSPSM_COMP    = 6&lt;&lt;D3DSP_SRCMOD_SHIFT, <span class="comment">// complement</span>
01142     D3DSPSM_X2      = 7&lt;&lt;D3DSP_SRCMOD_SHIFT, <span class="comment">// *2</span>
01143     D3DSPSM_X2NEG   = 8&lt;&lt;D3DSP_SRCMOD_SHIFT, <span class="comment">// *2 and negate</span>
01144     D3DSPSM_DZ      = 9&lt;&lt;D3DSP_SRCMOD_SHIFT, <span class="comment">// divide through by z component</span>
01145     D3DSPSM_DW      = 10&lt;&lt;D3DSP_SRCMOD_SHIFT, <span class="comment">// divide through by w component</span>
01146     D3DSPSM_ABS     = 11&lt;&lt;D3DSP_SRCMOD_SHIFT, <span class="comment">// abs()</span>
01147     D3DSPSM_ABSNEG  = 12&lt;&lt;D3DSP_SRCMOD_SHIFT, <span class="comment">// -abs()</span>
01148     D3DSPSM_NOT     = 13&lt;&lt;D3DSP_SRCMOD_SHIFT, <span class="comment">// for predicate register: "!p0"</span>
01149     D3DSPSM_FORCE_DWORD = 0x7fffffff,        <span class="comment">// force 32-bit size enum</span>
01150 } D3DSHADER_PARAM_SRCMOD_TYPE;
01151 
01152 <span class="comment">// pixel shader version token</span>
01153 <span class="preprocessor">#define D3DPS_VERSION(_Major,_Minor) (0xFFFF0000|((_Major)&lt;&lt;8)|(_Minor))</span>
01154 <span class="preprocessor"></span>
01155 <span class="comment">// vertex shader version token</span>
01156 <span class="preprocessor">#define D3DVS_VERSION(_Major,_Minor) (0xFFFE0000|((_Major)&lt;&lt;8)|(_Minor))</span>
01157 <span class="preprocessor"></span>
01158 <span class="comment">// extract major/minor from version cap</span>
01159 <span class="preprocessor">#define D3DSHADER_VERSION_MAJOR(_Version) (((_Version)&gt;&gt;8)&amp;0xFF)</span>
01160 <span class="preprocessor"></span><span class="preprocessor">#define D3DSHADER_VERSION_MINOR(_Version) (((_Version)&gt;&gt;0)&amp;0xFF)</span>
01161 <span class="preprocessor"></span>
01162 <span class="comment">// destination/source parameter register type</span>
01163 <span class="preprocessor">#define D3DSI_COMMENTSIZE_SHIFT     16</span>
01164 <span class="preprocessor"></span><span class="preprocessor">#define D3DSI_COMMENTSIZE_MASK      0x7FFF0000</span>
01165 <span class="preprocessor"></span><span class="preprocessor">#define D3DSHADER_COMMENT(_DWordSize) \</span>
01166 <span class="preprocessor">    ((((_DWordSize)&lt;&lt;D3DSI_COMMENTSIZE_SHIFT)&amp;D3DSI_COMMENTSIZE_MASK)|D3DSIO_COMMENT)</span>
01167 <span class="preprocessor"></span>
01168 <span class="comment">// pixel/vertex shader end token</span>
01169 <span class="preprocessor">#define D3DPS_END()  0x0000FFFF</span>
01170 <span class="preprocessor"></span><span class="preprocessor">#define D3DVS_END()  0x0000FFFF</span>
01171 <span class="preprocessor"></span>
01172 
01173 <span class="comment">//---------------------------------------------------------------------</span>
01174 
01175 <span class="comment">// High order surfaces</span>
01176 <span class="comment">//</span>
01177 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DBASISTYPE
01178 {
01179    D3DBASIS_BEZIER      = 0,
01180    D3DBASIS_BSPLINE     = 1,
01181    D3DBASIS_CATMULL_ROM = 2, <span class="comment">/* In D3D8 this used to be D3DBASIS_INTERPOLATE */</span>
01182    D3DBASIS_FORCE_DWORD = 0x7fffffff,
01183 } D3DBASISTYPE;
01184 
01185 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DDEGREETYPE
01186 {
01187    D3DDEGREE_LINEAR      = 1,
01188    D3DDEGREE_QUADRATIC   = 2,
01189    D3DDEGREE_CUBIC       = 3,
01190    D3DDEGREE_QUINTIC     = 5,
01191    D3DDEGREE_FORCE_DWORD = 0x7fffffff,
01192 } D3DDEGREETYPE;
01193 
01194 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DPATCHEDGESTYLE
01195 {
01196    D3DPATCHEDGE_DISCRETE    = 0,
01197    D3DPATCHEDGE_CONTINUOUS  = 1,
01198    D3DPATCHEDGE_FORCE_DWORD = 0x7fffffff,
01199 } D3DPATCHEDGESTYLE;
01200 
01201 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DSTATEBLOCKTYPE
01202 {
01203     D3DSBT_ALL           = 1, <span class="comment">// capture all state</span>
01204     D3DSBT_PIXELSTATE    = 2, <span class="comment">// capture pixel state</span>
01205     D3DSBT_VERTEXSTATE   = 3, <span class="comment">// capture vertex state</span>
01206     D3DSBT_FORCE_DWORD   = 0x7fffffff,
01207 } D3DSTATEBLOCKTYPE;
01208 
01209 <span class="comment">// The D3DVERTEXBLENDFLAGS type is used with D3DRS_VERTEXBLEND state.</span>
01210 <span class="comment">//</span>
01211 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DVERTEXBLENDFLAGS
01212 {
01213     D3DVBF_DISABLE  = 0,     <span class="comment">// Disable vertex blending</span>
01214     D3DVBF_1WEIGHTS = 1,     <span class="comment">// 2 matrix blending</span>
01215     D3DVBF_2WEIGHTS = 2,     <span class="comment">// 3 matrix blending</span>
01216     D3DVBF_3WEIGHTS = 3,     <span class="comment">// 4 matrix blending</span>
01217     D3DVBF_TWEENING = 255,   <span class="comment">// blending using D3DRS_TWEENFACTOR</span>
01218     D3DVBF_0WEIGHTS = 256,   <span class="comment">// one matrix is used with weight 1.0</span>
01219     D3DVBF_FORCE_DWORD = 0x7fffffff, <span class="comment">// force 32-bit size enum</span>
01220 } D3DVERTEXBLENDFLAGS;
01221 
01222 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DTEXTURETRANSFORMFLAGS {
01223     D3DTTFF_DISABLE         = 0,    <span class="comment">// texture coordinates are passed directly</span>
01224     D3DTTFF_COUNT1          = 1,    <span class="comment">// rasterizer should expect 1-D texture coords</span>
01225     D3DTTFF_COUNT2          = 2,    <span class="comment">// rasterizer should expect 2-D texture coords</span>
01226     D3DTTFF_COUNT3          = 3,    <span class="comment">// rasterizer should expect 3-D texture coords</span>
01227     D3DTTFF_COUNT4          = 4,    <span class="comment">// rasterizer should expect 4-D texture coords</span>
01228     D3DTTFF_PROJECTED       = 256,  <span class="comment">// texcoords to be divided by COUNTth element</span>
01229     D3DTTFF_FORCE_DWORD     = 0x7fffffff,
01230 } D3DTEXTURETRANSFORMFLAGS;
01231 
01232 <span class="comment">// Macros to set texture coordinate format bits in the FVF id</span>
01233 
01234 <span class="preprocessor">#define D3DFVF_TEXTUREFORMAT2 0         // Two floating point values</span>
01235 <span class="preprocessor"></span><span class="preprocessor">#define D3DFVF_TEXTUREFORMAT1 3         // One floating point value</span>
01236 <span class="preprocessor"></span><span class="preprocessor">#define D3DFVF_TEXTUREFORMAT3 1         // Three floating point values</span>
01237 <span class="preprocessor"></span><span class="preprocessor">#define D3DFVF_TEXTUREFORMAT4 2         // Four floating point values</span>
01238 <span class="preprocessor"></span>
01239 <span class="preprocessor">#define D3DFVF_TEXCOORDSIZE3(CoordIndex) (D3DFVF_TEXTUREFORMAT3 &lt;&lt; (CoordIndex*2 + 16))</span>
01240 <span class="preprocessor"></span><span class="preprocessor">#define D3DFVF_TEXCOORDSIZE2(CoordIndex) (D3DFVF_TEXTUREFORMAT2)</span>
01241 <span class="preprocessor"></span><span class="preprocessor">#define D3DFVF_TEXCOORDSIZE4(CoordIndex) (D3DFVF_TEXTUREFORMAT4 &lt;&lt; (CoordIndex*2 + 16))</span>
01242 <span class="preprocessor"></span><span class="preprocessor">#define D3DFVF_TEXCOORDSIZE1(CoordIndex) (D3DFVF_TEXTUREFORMAT1 &lt;&lt; (CoordIndex*2 + 16))</span>
01243 <span class="preprocessor"></span>
01244 
01245 <span class="comment">//---------------------------------------------------------------------</span>
01246 
01247 <span class="comment">/* Direct3D9 Device types */</span>
01248 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DDEVTYPE
01249 {
01250     D3DDEVTYPE_HAL         = 1,
01251     D3DDEVTYPE_REF         = 2,
01252     D3DDEVTYPE_SW          = 3,
01253 
01254     D3DDEVTYPE_NULLREF     = 4,
01255 
01256     D3DDEVTYPE_FORCE_DWORD  = 0x7fffffff
01257 } D3DDEVTYPE;
01258 
01259 <span class="comment">/* Multi-Sample buffer types */</span>
01260 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DMULTISAMPLE_TYPE
01261 {
01262     D3DMULTISAMPLE_NONE            =  0,
01263     D3DMULTISAMPLE_NONMASKABLE     =  1,
01264     D3DMULTISAMPLE_2_SAMPLES       =  2,
01265     D3DMULTISAMPLE_3_SAMPLES       =  3,
01266     D3DMULTISAMPLE_4_SAMPLES       =  4,
01267     D3DMULTISAMPLE_5_SAMPLES       =  5,
01268     D3DMULTISAMPLE_6_SAMPLES       =  6,
01269     D3DMULTISAMPLE_7_SAMPLES       =  7,
01270     D3DMULTISAMPLE_8_SAMPLES       =  8,
01271     D3DMULTISAMPLE_9_SAMPLES       =  9,
01272     D3DMULTISAMPLE_10_SAMPLES      = 10,
01273     D3DMULTISAMPLE_11_SAMPLES      = 11,
01274     D3DMULTISAMPLE_12_SAMPLES      = 12,
01275     D3DMULTISAMPLE_13_SAMPLES      = 13,
01276     D3DMULTISAMPLE_14_SAMPLES      = 14,
01277     D3DMULTISAMPLE_15_SAMPLES      = 15,
01278     D3DMULTISAMPLE_16_SAMPLES      = 16,
01279 
01280     D3DMULTISAMPLE_FORCE_DWORD     = 0x7fffffff
01281 } D3DMULTISAMPLE_TYPE;
01282 
01283 <span class="comment">/* Formats</span>
01284 <span class="comment"> * Most of these names have the following convention:</span>
01285 <span class="comment"> *      A = Alpha</span>
01286 <span class="comment"> *      R = Red</span>
01287 <span class="comment"> *      G = Green</span>
01288 <span class="comment"> *      B = Blue</span>
01289 <span class="comment"> *      X = Unused Bits</span>
01290 <span class="comment"> *      P = Palette</span>
01291 <span class="comment"> *      L = Luminance</span>
01292 <span class="comment"> *      U = dU coordinate for BumpMap</span>
01293 <span class="comment"> *      V = dV coordinate for BumpMap</span>
01294 <span class="comment"> *      S = Stencil</span>
01295 <span class="comment"> *      D = Depth (e.g. Z or W buffer)</span>
01296 <span class="comment"> *      C = Computed from other channels (typically on certain read operations)</span>
01297 <span class="comment"> *</span>
01298 <span class="comment"> *      Further, the order of the pieces are from MSB first; hence</span>
01299 <span class="comment"> *      D3DFMT_A8L8 indicates that the high byte of this two byte</span>
01300 <span class="comment"> *      format is alpha.</span>
01301 <span class="comment"> *</span>
01302 <span class="comment"> *      D3DFMT_D16_LOCKABLE indicates:</span>
01303 <span class="comment"> *           - An integer 16-bit value.</span>
01304 <span class="comment"> *           - An app-lockable surface.</span>
01305 <span class="comment"> *</span>
01306 <span class="comment"> *      D3DFMT_D32F_LOCKABLE indicates:</span>
01307 <span class="comment"> *           - An IEEE 754 floating-point value.</span>
01308 <span class="comment"> *           - An app-lockable surface.</span>
01309 <span class="comment"> *</span>
01310 <span class="comment"> *      All Depth/Stencil formats except D3DFMT_D16_LOCKABLE and D3DFMT_D32F_LOCKABLE indicate:</span>
01311 <span class="comment"> *          - no particular bit ordering per pixel, and</span>
01312 <span class="comment"> *          - are not app lockable, and</span>
01313 <span class="comment"> *          - the driver is allowed to consume more than the indicated</span>
01314 <span class="comment"> *            number of bits per Depth channel (but not Stencil channel).</span>
01315 <span class="comment"> */</span>
01316 <span class="preprocessor">#ifndef MAKEFOURCC</span>
01317 <span class="preprocessor"></span><span class="preprocessor">    #define MAKEFOURCC(ch0, ch1, ch2, ch3)                              \</span>
01318 <span class="preprocessor">                ((DWORD)(BYTE)(ch0) | ((DWORD)(BYTE)(ch1) &lt;&lt; 8) |       \</span>
01319 <span class="preprocessor">                ((DWORD)(BYTE)(ch2) &lt;&lt; 16) | ((DWORD)(BYTE)(ch3) &lt;&lt; 24 ))</span>
01320 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* defined(MAKEFOURCC) */</span>
01321 
01322 
01323 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DFORMAT
01324 {
01325     D3DFMT_UNKNOWN              =  0,
01326 
01327     D3DFMT_R8G8B8               = 20,
01328     D3DFMT_A8R8G8B8             = 21,
01329     D3DFMT_X8R8G8B8             = 22,
01330     D3DFMT_R5G6B5               = 23,
01331     D3DFMT_X1R5G5B5             = 24,
01332     D3DFMT_A1R5G5B5             = 25,
01333     D3DFMT_A4R4G4B4             = 26,
01334     D3DFMT_R3G3B2               = 27,
01335     D3DFMT_A8                   = 28,
01336     D3DFMT_A8R3G3B2             = 29,
01337     D3DFMT_X4R4G4B4             = 30,
01338     D3DFMT_A2B10G10R10          = 31,
01339     D3DFMT_A8B8G8R8             = 32,
01340     D3DFMT_X8B8G8R8             = 33,
01341     D3DFMT_G16R16               = 34,
01342     D3DFMT_A2R10G10B10          = 35,
01343     D3DFMT_A16B16G16R16         = 36,
01344 
01345     D3DFMT_A8P8                 = 40,
01346     D3DFMT_P8                   = 41,
01347 
01348     D3DFMT_L8                   = 50,
01349     D3DFMT_A8L8                 = 51,
01350     D3DFMT_A4L4                 = 52,
01351 
01352     D3DFMT_V8U8                 = 60,
01353     D3DFMT_L6V5U5               = 61,
01354     D3DFMT_X8L8V8U8             = 62,
01355     D3DFMT_Q8W8V8U8             = 63,
01356     D3DFMT_V16U16               = 64,
01357     D3DFMT_A2W10V10U10          = 67,
01358 
01359     D3DFMT_UYVY                 = MAKEFOURCC(<span class="charliteral">'U'</span>, <span class="charliteral">'Y'</span>, <span class="charliteral">'V'</span>, <span class="charliteral">'Y'</span>),
01360     D3DFMT_R8G8_B8G8            = MAKEFOURCC(<span class="charliteral">'R'</span>, <span class="charliteral">'G'</span>, <span class="charliteral">'B'</span>, <span class="charliteral">'G'</span>),
01361     D3DFMT_YUY2                 = MAKEFOURCC(<span class="charliteral">'Y'</span>, <span class="charliteral">'U'</span>, <span class="charliteral">'Y'</span>, <span class="charliteral">'2'</span>),
01362     D3DFMT_G8R8_G8B8            = MAKEFOURCC(<span class="charliteral">'G'</span>, <span class="charliteral">'R'</span>, <span class="charliteral">'G'</span>, <span class="charliteral">'B'</span>),
01363     D3DFMT_DXT1                 = MAKEFOURCC(<span class="charliteral">'D'</span>, <span class="charliteral">'X'</span>, <span class="charliteral">'T'</span>, <span class="charliteral">'1'</span>),
01364     D3DFMT_DXT2                 = MAKEFOURCC(<span class="charliteral">'D'</span>, <span class="charliteral">'X'</span>, <span class="charliteral">'T'</span>, <span class="charliteral">'2'</span>),
01365     D3DFMT_DXT3                 = MAKEFOURCC(<span class="charliteral">'D'</span>, <span class="charliteral">'X'</span>, <span class="charliteral">'T'</span>, <span class="charliteral">'3'</span>),
01366     D3DFMT_DXT4                 = MAKEFOURCC(<span class="charliteral">'D'</span>, <span class="charliteral">'X'</span>, <span class="charliteral">'T'</span>, <span class="charliteral">'4'</span>),
01367     D3DFMT_DXT5                 = MAKEFOURCC(<span class="charliteral">'D'</span>, <span class="charliteral">'X'</span>, <span class="charliteral">'T'</span>, <span class="charliteral">'5'</span>),
01368 
01369     D3DFMT_D16_LOCKABLE         = 70,
01370     D3DFMT_D32                  = 71,
01371     D3DFMT_D15S1                = 73,
01372     D3DFMT_D24S8                = 75,
01373     D3DFMT_D24X8                = 77,
01374     D3DFMT_D24X4S4              = 79,
01375     D3DFMT_D16                  = 80,
01376 
01377     D3DFMT_D32F_LOCKABLE        = 82,
01378     D3DFMT_D24FS8               = 83,
01379 
01380 
01381     D3DFMT_L16                  = 81,
01382 
01383     D3DFMT_VERTEXDATA           =100,
01384     D3DFMT_INDEX16              =101,
01385     D3DFMT_INDEX32              =102,
01386 
01387     D3DFMT_Q16W16V16U16         =110,
01388 
01389     D3DFMT_MULTI2_ARGB8         = MAKEFOURCC(<span class="charliteral">'M'</span>,<span class="charliteral">'E'</span>,<span class="charliteral">'T'</span>,<span class="charliteral">'1'</span>),
01390 
01391     <span class="comment">// Floating point surface formats</span>
01392 
01393     <span class="comment">// s10e5 formats (16-bits per channel)</span>
01394     D3DFMT_R16F                 = 111,
01395     D3DFMT_G16R16F              = 112,
01396     D3DFMT_A16B16G16R16F        = 113,
01397 
01398     <span class="comment">// IEEE s23e8 formats (32-bits per channel)</span>
01399     D3DFMT_R32F                 = 114,
01400     D3DFMT_G32R32F              = 115,
01401     D3DFMT_A32B32G32R32F        = 116,
01402 
01403     D3DFMT_CxV8U8               = 117,
01404 
01405 
01406     D3DFMT_FORCE_DWORD          =0x7fffffff
01407 } D3DFORMAT;
01408 
01409 <span class="comment">/* Display Modes */</span>
01410 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DDISPLAYMODE
01411 {
01412     UINT            Width;
01413     UINT            Height;
01414     UINT            RefreshRate;
01415     D3DFORMAT       Format;
01416 } D3DDISPLAYMODE;
01417 
01418 <span class="comment">/* Creation Parameters */</span>
01419 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DDEVICE_CREATION_PARAMETERS
01420 {
01421     UINT            AdapterOrdinal;
01422     D3DDEVTYPE      DeviceType;
01423     HWND            hFocusWindow;
01424     DWORD           BehaviorFlags;
01425 } D3DDEVICE_CREATION_PARAMETERS;
01426 
01427 
01428 <span class="comment">/* SwapEffects */</span>
01429 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DSWAPEFFECT
01430 {
01431     D3DSWAPEFFECT_DISCARD           = 1,
01432     D3DSWAPEFFECT_FLIP              = 2,
01433     D3DSWAPEFFECT_COPY              = 3,
01434 
01435     D3DSWAPEFFECT_FORCE_DWORD       = 0x7fffffff
01436 } D3DSWAPEFFECT;
01437 
01438 <span class="comment">/* Pool types */</span>
01439 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DPOOL {
01440     D3DPOOL_DEFAULT                 = 0,
01441     D3DPOOL_MANAGED                 = 1,
01442     D3DPOOL_SYSTEMMEM               = 2,
01443     D3DPOOL_SCRATCH                 = 3,
01444 
01445     D3DPOOL_FORCE_DWORD             = 0x7fffffff
01446 } D3DPOOL;
01447 
01448 
01449 <span class="comment">/* RefreshRate pre-defines */</span>
01450 <span class="preprocessor">#define D3DPRESENT_RATE_DEFAULT         0x00000000</span>
01451 <span class="preprocessor"></span>
01452 
01453 <span class="comment">/* Resize Optional Parameters */</span>
01454 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DPRESENT_PARAMETERS_
01455 {
01456     UINT                BackBufferWidth;
01457     UINT                BackBufferHeight;
01458     D3DFORMAT           BackBufferFormat;
01459     UINT                BackBufferCount;
01460 
01461     D3DMULTISAMPLE_TYPE MultiSampleType;
01462     DWORD               MultiSampleQuality;
01463 
01464     D3DSWAPEFFECT       SwapEffect;
01465     HWND                hDeviceWindow;
01466     BOOL                Windowed;
01467     BOOL                EnableAutoDepthStencil;
01468     D3DFORMAT           AutoDepthStencilFormat;
01469     DWORD               Flags;
01470 
01471     <span class="comment">/* FullScreen_RefreshRateInHz must be zero for Windowed mode */</span>
01472     UINT                FullScreen_RefreshRateInHz;
01473     UINT                PresentationInterval;
01474 } D3DPRESENT_PARAMETERS;
01475 
01476 <span class="comment">// Values for D3DPRESENT_PARAMETERS.Flags</span>
01477 
01478 <span class="preprocessor">#define D3DPRESENTFLAG_LOCKABLE_BACKBUFFER      0x00000001</span>
01479 <span class="preprocessor"></span><span class="preprocessor">#define D3DPRESENTFLAG_DISCARD_DEPTHSTENCIL     0x00000002</span>
01480 <span class="preprocessor"></span><span class="preprocessor">#define D3DPRESENTFLAG_DEVICECLIP               0x00000004</span>
01481 <span class="preprocessor"></span><span class="preprocessor">#define D3DPRESENTFLAG_VIDEO                    0x00000010</span>
01482 <span class="preprocessor"></span>
01483 <span class="comment">/* Gamma Ramp: Same as DX7 */</span>
01484 
01485 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DGAMMARAMP
01486 {
01487     WORD                red  [256];
01488     WORD                green[256];
01489     WORD                blue [256];
01490 } D3DGAMMARAMP;
01491 
01492 <span class="comment">/* Back buffer types */</span>
01493 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DBACKBUFFER_TYPE
01494 {
01495     D3DBACKBUFFER_TYPE_MONO         = 0,
01496     D3DBACKBUFFER_TYPE_LEFT         = 1,
01497     D3DBACKBUFFER_TYPE_RIGHT        = 2,
01498 
01499     D3DBACKBUFFER_TYPE_FORCE_DWORD  = 0x7fffffff
01500 } D3DBACKBUFFER_TYPE;
01501 
01502 
01503 <span class="comment">/* Types */</span>
01504 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DRESOURCETYPE {
01505     D3DRTYPE_SURFACE                =  1,
01506     D3DRTYPE_VOLUME                 =  2,
01507     D3DRTYPE_TEXTURE                =  3,
01508     D3DRTYPE_VOLUMETEXTURE          =  4,
01509     D3DRTYPE_CUBETEXTURE            =  5,
01510     D3DRTYPE_VERTEXBUFFER           =  6,
01511     D3DRTYPE_INDEXBUFFER            =  7,
01512 
01513 
01514     D3DRTYPE_FORCE_DWORD            = 0x7fffffff
01515 } D3DRESOURCETYPE;
01516 
01517 <span class="comment">/* Usages */</span>
01518 <span class="preprocessor">#define D3DUSAGE_RENDERTARGET       (0x00000001L)</span>
01519 <span class="preprocessor"></span><span class="preprocessor">#define D3DUSAGE_DEPTHSTENCIL       (0x00000002L)</span>
01520 <span class="preprocessor"></span><span class="preprocessor">#define D3DUSAGE_DYNAMIC            (0x00000200L)</span>
01521 <span class="preprocessor"></span>
01522 <span class="comment">// When passed to CheckDeviceFormat, D3DUSAGE_AUTOGENMIPMAP may return</span>
01523 <span class="comment">// D3DOK_NOAUTOGEN if the device doesn't support autogeneration for that format.</span>
01524 <span class="comment">// D3DOK_NOAUTOGEN is a success code, not a failure code... the SUCCEEDED and FAILED macros</span>
01525 <span class="comment">// will return true and false respectively for this code.</span>
01526 <span class="preprocessor">#define D3DUSAGE_AUTOGENMIPMAP      (0x00000400L)</span>
01527 <span class="preprocessor"></span><span class="preprocessor">#define D3DUSAGE_DMAP               (0x00004000L)</span>
01528 <span class="preprocessor"></span>
01529 <span class="comment">// The following usages are valid only for querying CheckDeviceFormat</span>
01530 <span class="preprocessor">#define D3DUSAGE_QUERY_LEGACYBUMPMAP            (0x00008000L)</span>
01531 <span class="preprocessor"></span><span class="preprocessor">#define D3DUSAGE_QUERY_SRGBREAD                 (0x00010000L)</span>
01532 <span class="preprocessor"></span><span class="preprocessor">#define D3DUSAGE_QUERY_FILTER                   (0x00020000L)</span>
01533 <span class="preprocessor"></span><span class="preprocessor">#define D3DUSAGE_QUERY_SRGBWRITE                (0x00040000L)</span>
01534 <span class="preprocessor"></span><span class="preprocessor">#define D3DUSAGE_QUERY_POSTPIXELSHADER_BLENDING (0x00080000L)</span>
01535 <span class="preprocessor"></span><span class="preprocessor">#define D3DUSAGE_QUERY_VERTEXTEXTURE            (0x00100000L)</span>
01536 <span class="preprocessor"></span><span class="preprocessor">#define D3DUSAGE_QUERY_WRAPANDMIP               (0x00200000L)</span>
01537 <span class="preprocessor"></span>
01538 <span class="comment">/* Usages for Vertex/Index buffers */</span>
01539 <span class="preprocessor">#define D3DUSAGE_WRITEONLY          (0x00000008L)</span>
01540 <span class="preprocessor"></span><span class="preprocessor">#define D3DUSAGE_SOFTWAREPROCESSING (0x00000010L)</span>
01541 <span class="preprocessor"></span><span class="preprocessor">#define D3DUSAGE_DONOTCLIP          (0x00000020L)</span>
01542 <span class="preprocessor"></span><span class="preprocessor">#define D3DUSAGE_POINTS             (0x00000040L)</span>
01543 <span class="preprocessor"></span><span class="preprocessor">#define D3DUSAGE_RTPATCHES          (0x00000080L)</span>
01544 <span class="preprocessor"></span><span class="preprocessor">#define D3DUSAGE_NPATCHES           (0x00000100L)</span>
01545 <span class="preprocessor"></span>
01546 
01547 
01548 
01549 
01550 
01551 
01552 
01553 
01554 
01555 <span class="comment">/* CubeMap Face identifiers */</span>
01556 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DCUBEMAP_FACES
01557 {
01558     D3DCUBEMAP_FACE_POSITIVE_X     = 0,
01559     D3DCUBEMAP_FACE_NEGATIVE_X     = 1,
01560     D3DCUBEMAP_FACE_POSITIVE_Y     = 2,
01561     D3DCUBEMAP_FACE_NEGATIVE_Y     = 3,
01562     D3DCUBEMAP_FACE_POSITIVE_Z     = 4,
01563     D3DCUBEMAP_FACE_NEGATIVE_Z     = 5,
01564 
01565     D3DCUBEMAP_FACE_FORCE_DWORD    = 0x7fffffff
01566 } D3DCUBEMAP_FACES;
01567 
01568 
01569 <span class="comment">/* Lock flags */</span>
01570 
01571 <span class="preprocessor">#define D3DLOCK_READONLY           0x00000010L</span>
01572 <span class="preprocessor"></span><span class="preprocessor">#define D3DLOCK_DISCARD            0x00002000L</span>
01573 <span class="preprocessor"></span><span class="preprocessor">#define D3DLOCK_NOOVERWRITE        0x00001000L</span>
01574 <span class="preprocessor"></span><span class="preprocessor">#define D3DLOCK_NOSYSLOCK          0x00000800L</span>
01575 <span class="preprocessor"></span><span class="preprocessor">#define D3DLOCK_DONOTWAIT          0x00004000L                  </span>
01576 <span class="preprocessor"></span>
01577 <span class="preprocessor">#define D3DLOCK_NO_DIRTY_UPDATE     0x00008000L</span>
01578 <span class="preprocessor"></span>
01579 
01580 
01581 
01582 
01583 
01584 
01585 <span class="comment">/* Vertex Buffer Description */</span>
01586 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DVERTEXBUFFER_DESC
01587 {
01588     D3DFORMAT           Format;
01589     D3DRESOURCETYPE     Type;
01590     DWORD               Usage;
01591     D3DPOOL             Pool;
01592     UINT                Size;
01593 
01594     DWORD               FVF;
01595 
01596 } D3DVERTEXBUFFER_DESC;
01597 
01598 <span class="comment">/* Index Buffer Description */</span>
01599 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DINDEXBUFFER_DESC
01600 {
01601     D3DFORMAT           Format;
01602     D3DRESOURCETYPE     Type;
01603     DWORD               Usage;
01604     D3DPOOL             Pool;
01605     UINT                Size;
01606 } D3DINDEXBUFFER_DESC;
01607 
01608 
01609 <span class="comment">/* Surface Description */</span>
01610 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DSURFACE_DESC
01611 {
01612     D3DFORMAT           Format;
01613     D3DRESOURCETYPE     Type;
01614     DWORD               Usage;
01615     D3DPOOL             Pool;
01616 
01617     D3DMULTISAMPLE_TYPE MultiSampleType;
01618     DWORD               MultiSampleQuality;
01619     UINT                Width;
01620     UINT                Height;
01621 } D3DSURFACE_DESC;
01622 
01623 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DVOLUME_DESC
01624 {
01625     D3DFORMAT           Format;
01626     D3DRESOURCETYPE     Type;
01627     DWORD               Usage;
01628     D3DPOOL             Pool;
01629 
01630     UINT                Width;
01631     UINT                Height;
01632     UINT                Depth;
01633 } D3DVOLUME_DESC;
01634 
01635 <span class="comment">/* Structure for LockRect */</span>
01636 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DLOCKED_RECT
01637 {
01638     INT                 Pitch;
01639     <span class="keywordtype">void</span>*               pBits;
01640 } D3DLOCKED_RECT;
01641 
01642 <span class="comment">/* Structures for LockBox */</span>
01643 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DBOX
01644 {
01645     UINT                Left;
01646     UINT                Top;
01647     UINT                Right;
01648     UINT                Bottom;
01649     UINT                Front;
01650     UINT                Back;
01651 } D3DBOX;
01652 
01653 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DLOCKED_BOX
01654 {
01655     INT                 RowPitch;
01656     INT                 SlicePitch;
01657     <span class="keywordtype">void</span>*               pBits;
01658 } D3DLOCKED_BOX;
01659 
01660 <span class="comment">/* Structures for LockRange */</span>
01661 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DRANGE
01662 {
01663     UINT                Offset;
01664     UINT                Size;
01665 } D3DRANGE;
01666 
01667 <span class="comment">/* Structures for high order primitives */</span>
01668 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DRECTPATCH_INFO
01669 {
01670     UINT                StartVertexOffsetWidth;
01671     UINT                StartVertexOffsetHeight;
01672     UINT                Width;
01673     UINT                Height;
01674     UINT                Stride;
01675     D3DBASISTYPE        Basis;
01676     D3DDEGREETYPE       Degree;
01677 } D3DRECTPATCH_INFO;
01678 
01679 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DTRIPATCH_INFO
01680 {
01681     UINT                StartVertexOffset;
01682     UINT                NumVertices;
01683     D3DBASISTYPE        Basis;
01684     D3DDEGREETYPE       Degree;
01685 } D3DTRIPATCH_INFO;
01686 
01687 <span class="comment">/* Adapter Identifier */</span>
01688 
01689 <span class="preprocessor">#define MAX_DEVICE_IDENTIFIER_STRING        512</span>
01690 <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DADAPTER_IDENTIFIER9
01691 {
01692     <span class="keywordtype">char</span>            Driver[MAX_DEVICE_IDENTIFIER_STRING];
01693     <span class="keywordtype">char</span>            Description[MAX_DEVICE_IDENTIFIER_STRING];
01694     <span class="keywordtype">char</span>            DeviceName[32];         <span class="comment">/* Device name for GDI (ex. \\.\DISPLAY1) */</span>
01695 
01696 <span class="preprocessor">#ifdef _WIN32</span>
01697 <span class="preprocessor"></span>    LARGE_INTEGER   DriverVersion;          <span class="comment">/* Defined for 32 bit components */</span>
01698 <span class="preprocessor">#else</span>
01699 <span class="preprocessor"></span>    DWORD           DriverVersionLowPart;   <span class="comment">/* Defined for 16 bit driver components */</span>
01700     DWORD           DriverVersionHighPart;
01701 <span class="preprocessor">#endif</span>
01702 <span class="preprocessor"></span>
01703     DWORD           VendorId;
01704     DWORD           DeviceId;
01705     DWORD           SubSysId;
01706     DWORD           Revision;
01707 
01708     GUID            DeviceIdentifier;
01709 
01710     DWORD           WHQLLevel;
01711 
01712 } D3DADAPTER_IDENTIFIER9;
01713 
01714 
01715 <span class="comment">/* Raster Status structure returned by GetRasterStatus */</span>
01716 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DRASTER_STATUS
01717 {
01718     BOOL            InVBlank;
01719     UINT            ScanLine;
01720 } D3DRASTER_STATUS;
01721 
01722 
01723 
01724 <span class="comment">/* Debug monitor tokens (DEBUG only)</span>
01725 <span class="comment"></span>
01726 <span class="comment">   Note that if D3DRS_DEBUGMONITORTOKEN is set, the call is treated as</span>
01727 <span class="comment">   passing a token to the debug monitor.  For example, if, after passing</span>
01728 <span class="comment">   D3DDMT_ENABLE/DISABLE to D3DRS_DEBUGMONITORTOKEN other token values</span>
01729 <span class="comment">   are passed in, the enabled/disabled state of the debug</span>
01730 <span class="comment">   monitor will still persist.</span>
01731 <span class="comment"></span>
01732 <span class="comment">   The debug monitor defaults to enabled.</span>
01733 <span class="comment"></span>
01734 <span class="comment">   Calling GetRenderState on D3DRS_DEBUGMONITORTOKEN is not of any use.</span>
01735 <span class="comment">*/</span>
01736 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DDEBUGMONITORTOKENS {
01737     D3DDMT_ENABLE            = 0,    <span class="comment">// enable debug monitor</span>
01738     D3DDMT_DISABLE           = 1,    <span class="comment">// disable debug monitor</span>
01739     D3DDMT_FORCE_DWORD     = 0x7fffffff,
01740 } D3DDEBUGMONITORTOKENS;
01741 
01742 <span class="comment">// Async feedback</span>
01743 
01744 <span class="keyword">typedef</span> <span class="keyword">enum</span> _D3DQUERYTYPE {
01745     D3DQUERYTYPE_VCACHE                 = 4, <span class="comment">/* D3DISSUE_END */</span>
01746     D3DQUERYTYPE_RESOURCEMANAGER        = 5, <span class="comment">/* D3DISSUE_END */</span>
01747     D3DQUERYTYPE_VERTEXSTATS            = 6, <span class="comment">/* D3DISSUE_END */</span>
01748     D3DQUERYTYPE_EVENT                  = 8, <span class="comment">/* D3DISSUE_END */</span>
01749     D3DQUERYTYPE_OCCLUSION              = 9, <span class="comment">/* D3DISSUE_BEGIN, D3DISSUE_END */</span>
01750     D3DQUERYTYPE_TIMESTAMP              = 10, <span class="comment">/* D3DISSUE_END */</span>
01751     D3DQUERYTYPE_TIMESTAMPDISJOINT      = 11, <span class="comment">/* D3DISSUE_BEGIN, D3DISSUE_END */</span>
01752     D3DQUERYTYPE_TIMESTAMPFREQ          = 12, <span class="comment">/* D3DISSUE_END */</span>
01753     D3DQUERYTYPE_PIPELINETIMINGS        = 13, <span class="comment">/* D3DISSUE_BEGIN, D3DISSUE_END */</span>
01754     D3DQUERYTYPE_INTERFACETIMINGS       = 14, <span class="comment">/* D3DISSUE_BEGIN, D3DISSUE_END */</span>
01755     D3DQUERYTYPE_VERTEXTIMINGS          = 15, <span class="comment">/* D3DISSUE_BEGIN, D3DISSUE_END */</span>
01756     D3DQUERYTYPE_PIXELTIMINGS           = 16, <span class="comment">/* D3DISSUE_BEGIN, D3DISSUE_END */</span>
01757     D3DQUERYTYPE_BANDWIDTHTIMINGS       = 17, <span class="comment">/* D3DISSUE_BEGIN, D3DISSUE_END */</span>
01758     D3DQUERYTYPE_CACHEUTILIZATION       = 18, <span class="comment">/* D3DISSUE_BEGIN, D3DISSUE_END */</span>
01759 } D3DQUERYTYPE;
01760 
01761 <span class="comment">// Flags field for Issue</span>
01762 <span class="preprocessor">#define D3DISSUE_END (1 &lt;&lt; 0) // Tells the runtime to issue the end of a query, changing it's state to "non-signaled".</span>
01763 <span class="preprocessor"></span><span class="preprocessor">#define D3DISSUE_BEGIN (1 &lt;&lt; 1) // Tells the runtime to issue the beginng of a query.</span>
01764 <span class="preprocessor"></span>
01765 
01766 <span class="comment">// Flags field for GetData</span>
01767 <span class="preprocessor">#define D3DGETDATA_FLUSH (1 &lt;&lt; 0) // Tells the runtime to flush if the query is outstanding.</span>
01768 <span class="preprocessor"></span>
01769 
01770 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DRESOURCESTATS
01771 {
01772 <span class="comment">// Data collected since last Present()</span>
01773     BOOL    bThrashing;             <span class="comment">/* indicates if thrashing */</span>
01774     DWORD   ApproxBytesDownloaded;  <span class="comment">/* Approximate number of bytes downloaded by resource manager */</span>
01775     DWORD   NumEvicts;              <span class="comment">/* number of objects evicted */</span>
01776     DWORD   NumVidCreates;          <span class="comment">/* number of objects created in video memory */</span>
01777     DWORD   LastPri;                <span class="comment">/* priority of last object evicted */</span>
01778     DWORD   NumUsed;                <span class="comment">/* number of objects set to the device */</span>
01779     DWORD   NumUsedInVidMem;        <span class="comment">/* number of objects set to the device, which are already in video memory */</span>
01780 <span class="comment">// Persistent data</span>
01781     DWORD   WorkingSet;             <span class="comment">/* number of objects in video memory */</span>
01782     DWORD   WorkingSetBytes;        <span class="comment">/* number of bytes in video memory */</span>
01783     DWORD   TotalManaged;           <span class="comment">/* total number of managed objects */</span>
01784     DWORD   TotalBytes;             <span class="comment">/* total number of bytes of managed objects */</span>
01785 } D3DRESOURCESTATS;
01786 
01787 <span class="preprocessor">#define D3DRTYPECOUNT (D3DRTYPE_INDEXBUFFER+1)</span>
01788 <span class="preprocessor"></span>
01789 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DDEVINFO_RESOURCEMANAGER
01790 {
01791     D3DRESOURCESTATS    stats[D3DRTYPECOUNT];
01792 } D3DDEVINFO_RESOURCEMANAGER, *LPD3DDEVINFO_RESOURCEMANAGER;
01793 
01794 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DDEVINFO_D3DVERTEXSTATS
01795 {
01796     DWORD   NumRenderedTriangles;       <span class="comment">/* total number of triangles that are not clipped in this frame */</span>
01797     DWORD   NumExtraClippingTriangles;  <span class="comment">/* Number of new triangles generated by clipping */</span>
01798 } D3DDEVINFO_D3DVERTEXSTATS, *LPD3DDEVINFO_D3DVERTEXSTATS;
01799 
01800 
01801 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DDEVINFO_VCACHE {
01802     DWORD   Pattern;                    <span class="comment">/* bit pattern, return value must be FOUR_CC(C, A, C, H) */</span>
01803     DWORD   OptMethod;                  <span class="comment">/* optimization method 0 means longest strips, 1 means vertex cache based */</span>
01804     DWORD   CacheSize;                  <span class="comment">/* cache size to optimize for  (only required if type is 1) */</span>
01805     DWORD   MagicNumber;                <span class="comment">/* used to determine when to restart strips (only required if type is 1)*/</span>
01806 } D3DDEVINFO_VCACHE, *LPD3DDEVINFO_VCACHE;
01807 
01808 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DDEVINFO_D3D9PIPELINETIMINGS
01809 {
01810     FLOAT VertexProcessingTimePercent;
01811     FLOAT PixelProcessingTimePercent;
01812     FLOAT OtherGPUProcessingTimePercent;
01813     FLOAT GPUIdleTimePercent;
01814 } D3DDEVINFO_D3D9PIPELINETIMINGS;
01815 
01816 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DDEVINFO_D3D9INTERFACETIMINGS
01817 {
01818     FLOAT WaitingForGPUToUseApplicationResourceTimePercent;
01819     FLOAT WaitingForGPUToAcceptMoreCommandsTimePercent;
01820     FLOAT WaitingForGPUToStayWithinLatencyTimePercent;
01821     FLOAT WaitingForGPUExclusiveResourceTimePercent;
01822     FLOAT WaitingForGPUOtherTimePercent;
01823 } D3DDEVINFO_D3D9INTERFACETIMINGS;
01824 
01825 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DDEVINFO_D3D9STAGETIMINGS
01826 {
01827     FLOAT MemoryProcessingPercent;
01828     FLOAT ComputationProcessingPercent;
01829 } D3DDEVINFO_D3D9STAGETIMINGS;
01830 
01831 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DDEVINFO_D3D9BANDWIDTHTIMINGS
01832 {
01833     FLOAT MaxBandwidthUtilized;
01834     FLOAT FrontEndUploadMemoryUtilizedPercent;
01835     FLOAT VertexRateUtilizedPercent;
01836     FLOAT TriangleSetupRateUtilizedPercent;
01837     FLOAT FillRateUtilizedPercent;
01838 } D3DDEVINFO_D3D9BANDWIDTHTIMINGS;
01839 
01840 <span class="keyword">typedef</span> <span class="keyword">struct </span>_D3DDEVINFO_D3D9CACHEUTILIZATION
01841 {
01842     FLOAT TextureCacheHitRate; <span class="comment">// Percentage of cache hits</span>
01843     FLOAT PostTransformVertexCacheHitRate;
01844 } D3DDEVINFO_D3D9CACHEUTILIZATION;
01845 
01846 <span class="preprocessor">#pragma pack()</span>
01847 <span class="preprocessor"></span><span class="preprocessor">#if _MSC_VER &gt;= 1200</span>
01848 <span class="preprocessor"></span><span class="preprocessor">#pragma warning(pop)</span>
01849 <span class="preprocessor"></span><span class="preprocessor">#else</span>
01850 <span class="preprocessor"></span><span class="preprocessor">#pragma warning(default:4201)</span>
01851 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
01852 <span class="preprocessor"></span>
01853 <span class="preprocessor">#endif </span><span class="comment">/* (DIRECT3D_VERSION &gt;= 0x0900) */</span>
01854 <span class="preprocessor">#endif </span><span class="comment">/* _d3d9TYPES(P)_H_ */</span>
01855 
</pre></div><hr><address style="align: right;"><small>
Generated on Tue Jun 13 11:14:33 2006 for gRenderDX9 by <a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 width=110 height=53>
</a> 1.3.1 using KingsTools</small></address>
</body>
</html>
